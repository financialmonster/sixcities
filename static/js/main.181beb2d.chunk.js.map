{"version":3,"sources":["components/header/logo.svg","components/map/pin-active.svg","components/map/pin.svg","components/pages/favoritesPage/logo.svg","components/reviewsMap/pin-active.svg","components/reviewsMap/pin.svg","components/offer/avatar-max.jpg","components/offer/avatar-angelina.jpg","reducers/cardReducer/cardReducer.js","reducers/authReducer/authReducer.js","reducers/nearbyReducer/nearbyReducer.js","reducers/favoritesReducer/favoritesReducer.js","reducers/reviewsReducer/reviewsReducer.js","utils/sortOffers.js","reducers/offersReducer/offersReducer.js","reducers/reducer.js","api.js","store.js","components/spinner/spinner.jsx","selectors.js","actions/offers.js","actions/helpers.js","components/card/card.jsx","components/cardList/cardList.jsx","components/cardListEmpty/cardListEmpty.jsx","components/errorIndicator/errorIndicator.jsx","components/cardListContainer/cardListContainer.jsx","components/header/header.jsx","components/navigation/navigation.jsx","components/filter/filter.jsx","utils/getHotelsCoords.js","components/map/map.jsx","components/pages/mainPage/mainPage.jsx","actions/auth.js","components/login/login.jsx","components/pages/loginPage/loginPage.jsx","actions/favorites.js","components/favoritesList/favoritesList.jsx","components/favoritesListEmpty/favoritesListEmpty.jsx","components/pages/favoritesPage/favoritesPage.jsx","actions/reviews.js","components/form/form.jsx","components/formContainer/formContainer.jsx","utils/mapMonthToNumber.js","components/reviews/reviews.jsx","components/reviewsContainer/reviewsContainer.jsx","components/reviewsMap/reviewsMap.jsx","components/offer/offer.jsx","actions/nearby.js","components/nearbyHotels/nearbyHotels.jsx","components/nearbyHotelsContainer/nearbyHotelsContainer.jsx","components/pages/offerPage/offerPage.jsx","components/app/app.jsx","components/errorBoundary/errorBoundary.jsx","index.js"],"names":["module","exports","initialState","focusedCard","cardReducer","state","action","type","payload","isLoggedIn","email","isAuthLoading","isAuthError","isAuthStatusLoading","isAuthStatusError","authReducer","nearbyHotels","isNearbyLoading","isNearbyError","nearbyReducer","slice","favorites","isFavoritesLoading","isFavoritesError","favoritesReducer","reviews","isReviewsLoading","isReviewsError","isReviewLoading","isReviewError","reviewsReducer","sortOffers","offers","offersCopy","sort","a","b","id","price","rating","isLoading","isError","activeCity","currentSorting","isFavoriteLoading","isFavoriteError","offersReducer","ind","offer","newOffer","is_favorite","newOffers","reducer","combineReducers","card","auth","nearby","api","axios","create","baseURL","timeout","withCredentials","getOffers","get","sendUserData","userData","post","requestAuth","getReviews","sendUserReview","review","getFavorites","setFavorite","isFavorite","getNearbyHotels","store","createStore","compose","applyMiddleware","thunk","withExtraArgument","window","__REDUX_DEVTOOLS_EXTENSION__","f","Spinner","className","hasOffers","length","citiesNames","Array","from","Set","map","item","city","name","hotelsByCity","filter","activeCityCoords","cityHotel","find","location","latitude","longitude","hasUserReview","findIndex","user","split","fetchOffers","dispatch","getState","then","res","status","data","Math","floor","random","catch","sortBy","sortingType","activeCityChange","focusCard","blurCard","connect","cardMouseEnterHandler","bindActionCreators","cardMouseLeaveHandler","isPremium","is_premium","title","src","preview_image","isNearby","isMain","isFavPage","btnClassName","cn","articleClassName","wrapperDivClassName","infoDivClassName","to","process","onClick","onMouseEnter","onMouseLeave","width","height","alt","xlinkHref","style","CardList","key","CardListEmpty","ErrorIndicator","operation","useEffect","logoLink","mainLink","spanClassName","logo","navItemClickHandler","Fragment","href","offersLength","useState","isOpened","setIsOpened","optionsList","tabIndex","method","getHotelsCoords","hotels","Map","lastFocusedHotel","pushPathToHistory","path","props","history","push","prevProps","this","remove","pin","createIcon","icon","activePin","activeIcon","leaflet","center","zoom","zoomControl","marker","setView","tileLayer","attribution","addTo","hotelsCoords","forEach","coords","createMarker","zIndexOffset","React","PureComponent","iconUrl","iconSize","options","addEventListener","withRouter","divClassName","sectionClassName","fetchAuthStatus","err","response","Login","onSubmit","emailVal","setEmailVal","passwordVal","setPasswordVal","formSubmitHandler","evt","preventDefault","placeholder","value","onChange","target","required","fetchAuth","password","fetchFavorites","fetchFavorite","fetchFavoriteSuccess","fetchFavoriteFail","FavoritesList","favoriteCities","hotel","elem","FavoritesListEmpty","fetchReviews","resetReviewError","fetchReview","Form","commentValue","setCommentValue","ratingValue","setRatingValue","isValid","isDisabled","htmlFor","disabled","comment","mapMonthToNubmer","number","Reviews","Date","parse","date","dateObj","month","getMonth","year","getFullYear","avatar_url","dateTime","getDate","isTestMode","offerCoords","focusedHotel","btnContent","images","maxAdults","max_adults","bedrooms","goods","host","description","is_pro","avatarsByUrl","femaleAvatar","maleAvarar","fetchNearbyHotels","NearbyHotels","match","scrollTo","params","component","MainPage","exact","LoginPage","FavoritesPage","OfferPage","ErrorBoundary","setState","children","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.181beb2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.052bc629.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin-active.99262147.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin.6c26c71c.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.052bc629.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin-active.99262147.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin.6c26c71c.svg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/jpeg;base64,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\"","const initialState = {\r\n    focusedCard: null\r\n}\r\n\r\nconst cardReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case `FOCUS_CARD`:            \r\n            return {\r\n                ...state,\r\n                focusedCard: action.payload\r\n            }\r\n\r\n        case `BLUR_CARD`:\r\n            return {\r\n                ...state,\r\n                focusedCard: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default cardReducer;\r\n","const initialState = {\r\n    isLoggedIn: false,\r\n    email: null,\r\n    isAuthLoading: false,\r\n    isAuthError: false,\r\n    isAuthStatusLoading: true,\r\n    isAuthStatusError: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case `FETCH_AUTH_REQUEST`:\r\n            return {\r\n                ...state,\r\n                email: null,\r\n                isAuthLoading: true,\r\n                isAuthError: false,\r\n                isLoggedIn: false\r\n            }\r\n\r\n        case `FETCH_AUTH_SUCCESS`:\r\n            return {\r\n                ...state,\r\n                email: action.payload,\r\n                isAuthLoading: false,\r\n                isAuthError: false,\r\n                isLoggedIn: true\r\n            }\r\n\r\n        case `FETCH_AUTH_FAIL`:\r\n            return {\r\n                ...state,\r\n                email: null,\r\n                isAuthLoading: false,\r\n                isAuthError: true,\r\n                isLoggedIn: false\r\n            }\r\n\r\n        case `AUTH_STATUS_REQUEST`:\r\n            return {\r\n                ...state,\r\n                isAuthStatusLoading: true,\r\n                isAuthStatusError: false\r\n            }\r\n\r\n        case `AUTH_STATUS_SUCCESS`:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: true,\r\n                email: action.payload,\r\n                isAuthStatusLoading: false,\r\n                isAuthStatusError: false\r\n            }\r\n\r\n        case `AUTH_STATUS_UNAUTHORIZED`:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false,\r\n                email: null,\r\n                isAuthStatusLoading: false,\r\n                isAuthStatusError: false\r\n            }\r\n\r\n        case `AUTH_STATUS_FAIL`:\r\n            return {\r\n                ...state,\r\n                isLoggedIn: false,\r\n                email: null,\r\n                isAuthStatusLoading: false,\r\n                isAuthStatusError: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;\r\n","const initialState = {\r\n    nearbyHotels: [],\r\n    isNearbyLoading: false,\r\n    isNearbyError: false\r\n}\r\n\r\nconst nearbyReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case `FETCH_NEARBY_REQUEST`:\r\n            return {\r\n                ...state,\r\n                nearbyHotels: [],\r\n                isNearbyLoading: true,\r\n                isNearbyError: false\r\n            }\r\n\r\n        case `FETCH_NEARBY_SUCCESS`:\r\n            return {\r\n                ...state,\r\n                nearbyHotels: action.payload.slice(0, 3),\r\n                isNearbyLoading: false,\r\n                isNearbyError: false\r\n            }\r\n\r\n        case `FETCH_NEARBY_FAIL`:\r\n            return {\r\n                ...state,\r\n                nearbyHotels: [],\r\n                isNearbyLoading: false,\r\n                isNearbyError: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default nearbyReducer;\r\n","const initialState = {\r\n    favorites: [],\r\n    isFavoritesLoading: false,\r\n    isFavoritesError: false\r\n}\r\n\r\nconst favoritesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case `FETCH_FAVORITES_REQUEST`:\r\n            return {\r\n                ...state,\r\n                isFavoritesLoading: true,\r\n                isFavoritesError: false,\r\n                favorites: []\r\n            }\r\n\r\n        case `FETCH_FAVORITES_SUCCESS`:\r\n            return {\r\n                ...state,\r\n                isFavoritesLoading: false,\r\n                isFavoritesError: false,\r\n                favorites: action.payload\r\n            }\r\n\r\n        case `FETCH_FAVORITES_FAIL`:\r\n            return {\r\n                ...state,\r\n                isFavoritesLoading: false,\r\n                isFavoritesError: true,\r\n                favorites: []\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default favoritesReducer;\r\n","const initialState = {\r\n    reviews: [],\r\n    isReviewsLoading: false,\r\n    isReviewsError: false,\r\n    isReviewLoading: false,\r\n    isReviewError: false\r\n}\r\n\r\nconst reviewsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case `FETCH_REVIEWS_REQUEST`:\r\n            return {\r\n                ...state,\r\n                reviews: [],\r\n                isReviewsLoading: true,\r\n                isReviewsError: false\r\n            }\r\n\r\n        case `FETCH_REVIEWS_SUCCESS`:\r\n            return {\r\n                ...state,\r\n                reviews: action.payload,\r\n                isReviewsLoading: false,\r\n                isReviewsError: false\r\n            }\r\n\r\n        case `FETCH_REVIEWS_FAIL`:\r\n            return {\r\n                ...state,\r\n                reviews: [],\r\n                isReviewsLoading: false,\r\n                isReviewsError: true\r\n            }\r\n\r\n        case `FETCH_REVIEW_REQUEST`:            \r\n            return {\r\n                ...state,\r\n                isReviewLoading: true,\r\n                isReviewError: false\r\n            }\r\n\r\n        case `FETCH_REVIEW_SUCCESS`:\r\n            return {\r\n                ...state,\r\n                isReviewLoading: false,\r\n                isReviewError: false\r\n            }\r\n\r\n        case `FETCH_REVIEW_FAIL`:\r\n            return {\r\n                ...state,\r\n                isReviewLoading: false,\r\n                isReviewError: true\r\n            }\r\n\r\n        case `RESET_REVIEW_ERROR`:\r\n            return {\r\n                ...state,\r\n                isReviewError: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reviewsReducer;\r\n","const sortOffers = (offers, type) => {\r\n    const offersCopy = [...offers];\r\n\r\n    switch(type) {\r\n        case `Popular`:\r\n            return offersCopy.sort((a, b) => a.id - b.id);\r\n            \r\n        case `Price: low to high`:\r\n            return offersCopy.sort((a, b) => a.price - b.price);\r\n\r\n        case `Price: high to low`:\r\n            return offersCopy.sort((a, b) => b.price - a.price);\r\n\r\n        case `Top rated first`:\r\n            return offersCopy.sort((a, b) => b.rating - a.rating);\r\n\r\n        default:\r\n            return offersCopy;\r\n    }\r\n}\r\n\r\nexport default sortOffers;\r\n","import sortOffers from '../../utils/sortOffers.js';\r\n\r\nconst initialState = {\r\n    offers: [],\r\n    isLoading: true,\r\n    isError: false,\r\n    activeCity: null,\r\n    currentSorting: `Popular`,\r\n    isFavoriteLoading: false,\r\n    isFavoriteError: false\r\n}\r\n\r\nconst offersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case `FETCH_OFFERS_REQUEST`:\r\n            return {\r\n                ...state,\r\n                offers: [],\r\n                isLoading: true,\r\n                isError: false,\r\n                activeCity: null\r\n            }\r\n\r\n        case `FETCH_OFFERS_SUCCESS`:                    \r\n            return {\r\n                ...state,\r\n                isError: false,\r\n                isLoading: false,\r\n                activeCity: action.payload.activeCity,\r\n                offers: action.payload.offers\r\n            }\r\n\r\n        case `FETCH_OFFERS_FAIL`:\r\n            return {\r\n                ...state,\r\n                offers: [],\r\n                isLoading: false,\r\n                isError: true\r\n            }\r\n\r\n        case `SORT_BY`:\r\n            return {\r\n                ...state,\r\n                offers: sortOffers(state.offers, action.payload),\r\n                currentSorting: action.payload\r\n            }\r\n\r\n        case `ACTIVE_CITY_CHANGE`:            \r\n            return {\r\n                ...state,\r\n                activeCity: action.payload\r\n            }\r\n\r\n        case `FETCH_FAVORITE_REQUEST`:                  \r\n            return {\r\n                ...state,\r\n                isFavoriteLoading: true,\r\n                isFavoriteError: false\r\n            }\r\n\r\n        case `FETCH_FAVORITE_FAIL`:                  \r\n            return {\r\n                ...state,\r\n                isFavoriteLoading: false,\r\n                isFavoriteError: true\r\n            }\r\n\r\n        case `FETCH_FAVORITE_SUCCESS`:\r\n            const ind = action.payload - 1;\r\n            const offer = state.offers[ind];\r\n            const newOffer = {...offer, is_favorite: !offer.is_favorite};\r\n            const newOffers = [...state.offers.slice(0, ind), newOffer, ...state.offers.slice(ind + 1)];\r\n                        \r\n            return {\r\n                ...state,\r\n                offers: newOffers,\r\n                isFavoriteLoading: false,\r\n                isFavoriteError: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default offersReducer;\r\n","import {combineReducers} from 'redux';\r\n\r\nimport cardReducer from './cardReducer/cardReducer.js';\r\nimport authReducer from './authReducer/authReducer.js';\r\nimport nearbyReducer from './nearbyReducer/nearbyReducer.js';\r\nimport favoritesReducer from './favoritesReducer/favoritesReducer.js';\r\nimport reviewsReducer from './reviewsReducer/reviewsReducer.js';\r\nimport offersReducer from './offersReducer/offersReducer.js';\r\n\r\nconst reducer = combineReducers({\r\n    card: cardReducer,\r\n    auth: authReducer,\r\n    nearby: nearbyReducer,\r\n    favorites: favoritesReducer,\r\n    reviews: reviewsReducer,\r\n    offers: offersReducer\r\n});\r\n\r\nexport default reducer;\r\n","import axios from 'axios';\r\n\r\nclass Api {\r\n    api = axios.create({\r\n        baseURL: `https://htmlacademy-react-3.appspot.com/six-cities`,\r\n        timeout: 5000,\r\n        withCredentials: true\r\n    });\r\n\r\n    getOffers = () => this.api.get(`/hotels`);\r\n\r\n    sendUserData = (userData) => this.api.post(`/login`, userData);\r\n\r\n    requestAuth = () => this.api.get(`/login`);\r\n\r\n    getReviews = (id) => this.api.get(`/comments/${id}`);\r\n\r\n    sendUserReview = (review, id) => this.api.post(`/comments/${id}`, review);\r\n\r\n    getFavorites = () => this.api.get(`/favorite`);\r\n\r\n    setFavorite = (id, isFavorite) => this.api.post(`/favorite/${id}/${(isFavorite) ? 0 : 1}`);\r\n\r\n    getNearbyHotels = (id) => this.api.get(`/hotels/${id}/nearby`);\r\n}\r\n\r\nexport default new Api(); \r\n","import {createStore, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport reducer from './reducers/reducer.js';\r\nimport api from './api.js';\r\n\r\nconst store = createStore(reducer, compose(applyMiddleware(thunk.withExtraArgument(api)),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : (f) => f\r\n));\r\n                                    \r\nexport default store;\r\n","import React from 'react';\r\n\r\nimport './spinner.scss';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"spinner\">\r\n            <div className=\"spinnerContent\">\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spinner;\r\n","const hasOffers = ({offers, isError}) => !!offers.length && !isError;\r\n\r\nconst citiesNames = ({offers}) => Array.from(new Set(offers.map((item) => item.city.name))).sort().slice(0, 6);\r\n\r\nconst hotelsByCity = ({offers, activeCity}) => offers.filter((item) => item.city.name === activeCity);\r\n\r\nconst activeCityCoords = ({offers, activeCity}) => {\r\n    const cityHotel = offers.find((item) => item.city.name === activeCity);\r\n\r\n    if (!cityHotel) {\r\n        return;\r\n    }\r\n\r\n    return [cityHotel.city.location.latitude, cityHotel.city.location.longitude];\r\n}\r\n\r\nconst hasUserReview = (email, reviews, isLoggedIn) => {\r\n    return isLoggedIn && reviews.findIndex((item) => item.user.name === email.split(`@`)[0]) !== -1; \r\n}\r\n\r\nexport {hasOffers, citiesNames, hotelsByCity, activeCityCoords, hasUserReview};\r\n","const SUCCESS_STATUS = 200;\r\n\r\nconst fetchOffersRequest = () => {\r\n    return {\r\n        type: `FETCH_OFFERS_REQUEST`\r\n    };\r\n}\r\n\r\nconst fetchOffersSuccess = (offers) => {\r\n    return {\r\n        type: `FETCH_OFFERS_SUCCESS`,\r\n        payload: {\r\n            offers,\r\n            activeCity: offers[Math.floor(Math.random() * offers.length)].city.name\r\n        }\r\n    };\r\n}\r\n\r\nconst fetchOffersFail = () => {\r\n    return {\r\n        type: `FETCH_OFFERS_FAIL`\r\n    };\r\n}\r\n\r\nconst fetchOffers = () => (dispatch, getState, api) => {\r\n    dispatch(fetchOffersRequest());\r\n\r\n    return api.getOffers()\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {\r\n                dispatch(fetchOffersSuccess(res.data));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchOffersFail()))\r\n}\r\n\r\nexport default fetchOffers;\r\n","const sortBy = (sortingType) => {\r\n    return {\r\n        type: `SORT_BY`,\r\n        payload: sortingType\r\n    };\r\n}\r\n\r\nconst activeCityChange = (city) => {\r\n    return {\r\n        type: `ACTIVE_CITY_CHANGE`,\r\n        payload: city\r\n    }\r\n}\r\n\r\nconst focusCard = (id) => {\r\n    return {\r\n        type: `FOCUS_CARD`,\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst blurCard = () => {\r\n    return {\r\n        type: `BLUR_CARD`\r\n    }\r\n}\r\n\r\nexport {sortBy, activeCityChange, focusCard, blurCard};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport cn from 'classnames';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport {focusCard, blurCard} from '../../actions/helpers.js';\r\n\r\nconst Card = ({offer: {price, is_premium: isPremium, is_favorite: isFavorite, rating, title, type,\r\n    preview_image: src, id}, cardMouseEnterHandler, cardMouseLeaveHandler, isNearby, isMain, isFavPage}\r\n) => {\r\n    const btnClassName = cn(`place-card__bookmark-button button`, {'place-card__bookmark-button--active': isFavorite});\r\n    const articleClassName = cn(`place-card`,\r\n        {'near-places__card': isNearby, 'cities__place-card': isMain, 'favorites__card': isFavPage});\r\n    const wrapperDivClassName = cn(`place-card__image-wrapper`,\r\n        {'near-places__image-wrapper': isNearby, 'cities__image-wrapper': isMain, 'favorites__image-wrapper': isFavPage});\r\n    const infoDivClassName = cn(`place-card__info`, {'favorites__card-info': isFavPage});\r\n\r\n    return (\r\n        <Link to={`${process.env.PUBLIC_URL}/offer/${id}`} title={`To the ${title} offer page`} onClick={cardMouseLeaveHandler}>\r\n            <article className={articleClassName} onMouseEnter={() => cardMouseEnterHandler(id)}\r\n                onMouseLeave={cardMouseLeaveHandler}\r\n            >\r\n                {(isPremium) ? <div className=\"place-card__mark\"><span>Premium</span></div> : null}\r\n\r\n                <div className={wrapperDivClassName}>\r\n                    <img className=\"place-card__image\" src={src} width={(isFavPage) ? \"150\" : \"260\"}\r\n                        height={(isFavPage) ? \"110\" : \"200\"} alt=\"Place pic\"\r\n                    />\r\n                </div>\r\n                <div className={infoDivClassName}>\r\n                    <div className=\"place-card__price-wrapper\">\r\n                        <div className=\"place-card__price\">\r\n                            <b className=\"place-card__price-value\">&euro;{price}</b>\r\n                            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\r\n                        </div>\r\n                        <button className={btnClassName} type=\"button\"\r\n                            title={(isFavorite) ? `In bookmarks` : `To bookmarks`}\r\n                        >\r\n                            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\r\n                                <use xlinkHref=\"#icon-bookmark\"></use>\r\n                            </svg>\r\n                            <span className=\"visually-hidden\">{(isFavorite) ? `In bookmarks` : `Not in bookmarks`}</span>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"place-card__rating rating\">\r\n                        <div className=\"place-card__stars rating__stars\">\r\n                            <span style={{width: `${20 * rating}%`}}></span>\r\n                            <span className=\"visually-hidden\">Rating</span>\r\n                        </div>\r\n                    </div>\r\n                    <h2 className=\"place-card__name\">{title}</h2>\r\n                    <p className=\"place-card__type\">{type}</p>\r\n                </div>\r\n            </article>\r\n        </Link>\r\n    )\r\n}\r\n\r\nCard.propTypes = {\r\n    cardMouseEnterHandler: PropTypes.func.isRequired,\r\n    cardMouseLeaveHandler: PropTypes.func.isRequired,\r\n    isNearby: PropTypes.bool.isRequired,\r\n    isFavPage: PropTypes.bool.isRequired,\r\n    isMain: PropTypes.bool.isRequired,\r\n    offer: PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    })\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        cardMouseEnterHandler:  bindActionCreators(focusCard ,dispatch),\r\n        cardMouseLeaveHandler:  bindActionCreators(blurCard, dispatch)\r\n    }\r\n}\r\n\r\nexport {Card};\r\nexport default connect(null, mapDispatchToProps)(Card);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Card from '../card/card.jsx';\r\n\r\nconst CardList = ({offers}) => {\r\n    return (\r\n        <div className=\"cities__places-list places__list tabs__content\">\r\n            {\r\n                offers.map((offer) => {\r\n                    return (\r\n                        <Card key={offer.id} offer={offer} isNearby={false} isMain={true} isFavPage={false} />\r\n                    );\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nCardList.propTypes = {\r\n    offers: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    }))\r\n}\r\n\r\nexport default CardList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst CardListEmpty = ({city}) => {\r\n    return (\r\n        <div className=\"cities__status-wrapper tabs__content\">\r\n            <b className=\"cities__status\">No places to stay available</b>\r\n            <p className=\"cities__status-description\">We could not find any property available at the\r\n                moment in {city}\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nCardListEmpty.propTypes = {\r\n    city: PropTypes.string\r\n}\r\n\r\nexport default CardListEmpty;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ErrorIndicator = ({operation}) => {\r\n    return (\r\n        <div className=\"cities__status-wrapper tabs__content\">\r\n            <b className=\"cities__status\">We're sorry</b>\r\n            <p className=\"cities__status-description\">\r\n                It's been an error during the process of {operation}. Please, reload the page and try again  \r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nErrorIndicator.propTypes = {\r\n   operation: PropTypes.string.isRequired \r\n}\r\n\r\nexport default ErrorIndicator;\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport Spinner from '../spinner/spinner.jsx';\r\nimport {hotelsByCity} from '../../selectors.js';\r\nimport fetchOffers from '../../actions/offers.js';\r\nimport CardList from '../cardList/cardList.jsx';\r\nimport CardListEmpty from '../cardListEmpty/cardListEmpty.jsx';\r\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\r\n\r\nconst CardListContainer = ({fetchOffers, offers, isLoading, activeCity, isError}) => {\r\n    useEffect(() => {\r\n        fetchOffers();\r\n    }, [fetchOffers]);\r\n\r\n    if(isLoading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if(isError) {\r\n        return <ErrorIndicator operation=\"loading of the list of offers\" />;\r\n    }\r\n\r\n    if(!offers.length) {\r\n        return <CardListEmpty city={activeCity} />;\r\n    }\r\n\r\n    return <CardList offers={offers} />;\r\n}\r\n\r\nCardListContainer.propTypes = {\r\n    offers: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    })),\r\n    isLoading: PropTypes.bool.isRequired,\r\n    activeCity: PropTypes.string,\r\n    fetchOffers: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({offers}) => {\r\n    return {\r\n        offers: hotelsByCity(offers),\r\n        isLoading: offers.isLoading,\r\n        activeCity: offers.activeCity,\r\n        isError: offers.isError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchOffers: bindActionCreators(fetchOffers, dispatch)\r\n    }\r\n}\r\n\r\nexport {CardListContainer};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CardListContainer);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport logo from './logo.svg';\r\n\r\nconst Header = ({isLoggedIn, email, isMain, isAuthStatusLoading, isAuthStatusError}) => {\r\n    const spanClassName = (isLoggedIn) ? `header__user-name user__name` : `header__login`;\r\n    let logoLink;\r\n    let mainLink;\r\n\r\n    if(isMain) {\r\n        logoLink = (\r\n            <a className=\"header__logo-link header__logo-link--active\">\r\n                <img className=\"header__logo\" src={logo} alt=\"6 cities logo\" width=\"81\" height=\"41\" />\r\n            </a>\r\n        );\r\n    } else {\r\n        logoLink = (\r\n            <Link to={`${process.env.PUBLIC_URL}/`} className=\"header__logo-link\" title=\"To the main page\">\r\n                <img className=\"header__logo\" src={logo} alt=\"6 cities logo\" width=\"81\"height=\"41\" />\r\n            </Link>\r\n        );\r\n    }    \r\n\r\n    if(isAuthStatusLoading) {\r\n        mainLink = <div>Authorization...</div>;\r\n    } else if(isAuthStatusError) {\r\n        mainLink = <div>Authorization failed. Please, reload the page and try again</div>;\r\n    } else {\r\n        mainLink = (\r\n            <Link to={(isLoggedIn) ? `${process.env.PUBLIC_URL}/favorites` : `${process.env.PUBLIC_URL}/login`}\r\n                title={(isLoggedIn) ? `To the favorites page` : `To the login page`}\r\n                className=\"header__nav-link header__nav-link--profile\"\r\n            >\r\n                <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\r\n                <span className={spanClassName}>{(isLoggedIn) ? email : `Sign in`}</span>\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"container\">\r\n                <div className=\"header__wrapper\">\r\n                    <div className=\"header__left\">{logoLink}</div>\r\n                    <nav className=\"header__nav\">\r\n                        <ul className=\"header__nav-list\">\r\n                            <li className=\"header__nav-item user\">{mainLink}</li>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nHeader.propTypes = {\r\n    isLoggedIn: PropTypes.bool.isRequired,\r\n    email: PropTypes.string,\r\n    isMain: PropTypes.bool.isRequired,\r\n    isAuthStatusError: PropTypes.bool.isRequired,\r\n    isAuthStatusLoading: PropTypes.bool.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({auth: {isLoggedIn, email, isAuthStatusError, isAuthStatusLoading}}) => {\r\n    return {\r\n        isLoggedIn,\r\n        email,\r\n        isAuthStatusError,\r\n        isAuthStatusLoading\r\n    }\r\n}\r\n\r\nexport {Header};\r\nexport default connect(mapStateToProps)(Header);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {bindActionCreators} from 'redux';\r\nimport cn from 'classnames';\r\n\r\nimport {activeCityChange} from '../../actions/helpers.js';\r\nimport {citiesNames} from '../../selectors.js';\r\n\r\nconst Navigation = ({activeCity, navItemClickHandler, citiesNames}) => {\r\n    return (\r\n        <React.Fragment>\r\n            <h1 className=\"visually-hidden\">Cities</h1>\r\n            <div className=\"tabs\">\r\n                <section className=\"locations container\">\r\n                    <ul className=\"locations__list tabs__list\">\r\n                        {\r\n                            citiesNames.map((item) => {\r\n                                const className = cn(`locations__item-link tabs__item`,\r\n                                    {'tabs__item--active': item === activeCity});\r\n\r\n                                return (\r\n                                    <li key={item} className=\"locations__item\">\r\n                                        <a className={className} href=\"#\" id={item}\r\n                                            title={(item === activeCity) ? `` : `To the offers of ${item}`}\r\n                                            onClick={() => navItemClickHandler(item)}\r\n                                        >\r\n                                            <span>{item}</span>\r\n                                        </a>\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </section>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nNavigation.propTypes = {\r\n    activeCity: PropTypes.string,\r\n    navItemClickHandler: PropTypes.func.isRequired,\r\n    citiesNames: PropTypes.arrayOf(PropTypes.string)\r\n}\r\n\r\nconst mapStateToProps = ({offers}) => {\r\n    return {\r\n        activeCity: offers.activeCity,\r\n        citiesNames: citiesNames(offers)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        navItemClickHandler: bindActionCreators(activeCityChange, dispatch)\r\n    }\r\n}\r\n\r\nexport {Navigation};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\r\n","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\nimport {sortBy} from '../../actions/helpers.js';\r\nimport {hotelsByCity} from '../../selectors.js';\r\n\r\nconst Filter = ({currentSorting, activeCity, offersLength, sortBy}) => {\r\n    const [isOpened, setIsOpened] = useState(false);\r\n\r\n    const sortOptionClickHandler = (title) => {\r\n        setIsOpened(false);\r\n        sortBy(title);\r\n    }\r\n\r\n    const optionsTitles = [`Popular`, `Price: low to high`, `Price: high to low`, `Top rated first`];\r\n\r\n    const optionsList = (\r\n        <ul className=\"places__options places__options--custom places__options--opened\">\r\n            {\r\n                optionsTitles.map((item) => {\r\n                    const className = cn(`places__option`, {'places__option--active': item === currentSorting});\r\n\r\n                    return (\r\n                        <li key={item} className={className} tabIndex=\"0\" onClick={() => sortOptionClickHandler(item)}>\r\n                            {item}\r\n                        </li>\r\n                    );\r\n                })\r\n            }\r\n        </ul>\r\n    );\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <h2 className=\"visually-hidden\">Places</h2>\r\n            <b className=\"places__found\">{offersLength} places to stay in {activeCity}</b>\r\n            <form className=\"places__sorting\" action=\"#\" method=\"get\">\r\n                <span className=\"places__sorting-caption\">Sort by </span>\r\n                <span className=\"places__sorting-type\" tabIndex=\"0\" onClick={() => setIsOpened((isOpened) => !isOpened)}\r\n                    title={(isOpened) ? `Close the menu` : `Open the menu`}\r\n                >\r\n                    Popular\r\n                    <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\r\n                        <use xlinkHref=\"#icon-arrow-select\"></use>\r\n                    </svg>\r\n                </span>\r\n                {(isOpened) ? optionsList : null}\r\n            </form>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nFilter.propTypes = {\r\n    sortBy: PropTypes.func.isRequired,\r\n    currentSorting: PropTypes.string.isRequired,\r\n    activeCity: PropTypes.string,\r\n    offersLength: PropTypes.number.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({offers}) => {\r\n    return {\r\n        currentSorting: offers.currentSorting,\r\n        activeCity: offers.activeCity,\r\n        offersLength: hotelsByCity(offers).length\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sortBy: bindActionCreators(sortBy, dispatch)\r\n    }\r\n}\r\n\r\nexport {Filter};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","const getHotelsCoords = (hotels) => hotels.map((item) => [item.location.latitude, item.location.longitude]);\r\n\r\nexport default getHotelsCoords;\r\n","import React from 'react';\r\nimport leaflet from 'leaflet';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nimport Spinner from '../spinner/spinner.jsx';\r\nimport {activeCityCoords, hotelsByCity} from '../../selectors.js';\r\nimport getHotelsCoords from '../../utils/getHotelsCoords.js';\r\n\r\nimport activeIcon from './pin-active.svg';\r\nimport icon from './pin.svg';\r\n\r\nclass Map extends React.PureComponent {\r\n    static propTypes = {\r\n        history: PropTypes.object.isRequired,\r\n        activeCityCoords: PropTypes.arrayOf(PropTypes.number),\r\n        activeCity: PropTypes.string,\r\n        focusedCard: PropTypes.number,\r\n        isLoading: PropTypes.bool.isRequired,\r\n        hotels: PropTypes.arrayOf(PropTypes.shape({\r\n            price: PropTypes.number.isRequired,\r\n            is_favorite: PropTypes.bool.isRequired,\r\n            is_premium: PropTypes.bool.isRequired,\r\n            rating: PropTypes.number.isRequired,\r\n            title: PropTypes.string.isRequired,\r\n            type: PropTypes.string.isRequired,\r\n            preview_image: PropTypes.string.isRequired,\r\n            id: PropTypes.number.isRequired\r\n        }))\r\n    }\r\n\r\n    static createIcon = (iconUrl) => {\r\n        return leaflet.icon({\r\n            iconUrl,\r\n            iconSize: [30, 30]\r\n        });\r\n    }\r\n\r\n    static createMarker = (coords, icon, path, map, options) => {\r\n        const marker = leaflet.marker(coords, {\r\n            icon,\r\n            ...options\r\n        })\r\n        .addTo(map)\r\n        .addEventListener(`click`, () => this.pushPathToHistory(path));\r\n\r\n        return marker;\r\n    }\r\n\r\n    lastFocusedHotel = null;\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const {activeCityCoords, activeCity, hotels, focusedCard, isLoading} = this.props;\r\n\r\n        if(prevProps.activeCity === activeCity && prevProps.focusedCard === focusedCard) {\r\n            return;\r\n        }\r\n\r\n        if(isLoading) {\r\n            return;\r\n        }\r\n\r\n        if(this.map) {\r\n            this.map.remove();\r\n        }\r\n                        \r\n        const pin = Map.createIcon(icon);\r\n        const activePin = Map.createIcon(activeIcon);\r\n\r\n        const zoom = 13;\r\n\r\n        const map = leaflet.map(`map`, {\r\n            center: activeCityCoords,\r\n            zoom,\r\n            zoomControl: false,\r\n            marker: true\r\n        });\r\n\r\n        if(this.lastFocusedHotel) {\r\n            map.setView([this.lastFocusedHotel.location.latitude, this.lastFocusedHotel.location.longitude], zoom);\r\n        } else {\r\n            map.setView(activeCityCoords, zoom);\r\n        }\r\n  \r\n        leaflet.tileLayer(`https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`, { \r\n            attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>\r\n                contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\r\n            })\r\n            .addTo(map);\r\n\r\n        const hotelsCoords = getHotelsCoords(hotels);\r\n            \r\n        if(focusedCard) {\r\n            this.lastFocusedHotel = hotels.find((item) => item.id === focusedCard);\r\n        }\r\n        \r\n        hotelsCoords.forEach((coords, ind) => {\r\n            if(this.lastFocusedHotel && coords[0] === this.lastFocusedHotel.location.latitude\r\n                && coords[1] === this.lastFocusedHotel.location.longitude\r\n            ) {\r\n                map.setView(coords, zoom);\r\n\r\n                Map.createMarker(coords, activePin, `/offer/${this.lastFocusedHotel.id}`, map,\r\n                    {title: this.lastFocusedHotel.title, zIndexOffset: 1}\r\n                );\r\n                    \r\n            } else {\r\n                Map.createMarker(coords, pin, `/offer/${hotels[ind].id}`, map,  {title: hotels[ind].title});\r\n            }\r\n        });\r\n\r\n        this.map = map;\r\n    }\r\n\r\n    pushPathToHistory = (path) => this.props.history.push(path);\r\n\r\n    render() {\r\n        const {isLoading} = this.props;\r\n\r\n        if(isLoading) {\r\n            return <Spinner />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"cities__right-section\">\r\n                <section className=\"cities__map map\">\r\n                    <div id=\"map\" style={{width: `100%`, height: `100%`}}></div>\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({offers, card}) => {\r\n    return {\r\n        activeCityCoords: activeCityCoords(offers),\r\n        isLoading: offers.isLoading,\r\n        activeCity: offers.activeCity,\r\n        hotels: hotelsByCity(offers),\r\n        focusedCard: card.focusedCard\r\n    }\r\n}\r\n\r\nexport {Map};\r\nexport default compose(connect(mapStateToProps), withRouter)(Map);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport cn from 'classnames';\r\n\r\nimport CardListContainer from '../../cardListContainer/cardListContainer.jsx';\r\nimport Header from '../../header/header.jsx';\r\nimport Navigation from '../../navigation/navigation.jsx';\r\nimport Filter from '../../filter/filter.jsx';\r\nimport {hasOffers} from '../../../selectors.js';\r\nimport Map from '../../map/map.jsx';\r\n\r\nconst MainPage = ({hasOffers, isLoading}) => {\r\n    const divClassName = cn(`cities__places-container container`,\r\n        {'cities__places-container--empty': !isLoading && !hasOffers});\r\n\r\n    const sectionClassName = (!isLoading && !hasOffers)\r\n        ? `cities__no-places`\r\n        : `cities__places places`;        \r\n\r\n    return (\r\n        <div className=\"page page--gray page--main\">\r\n            <Header isMain={true} />\r\n            <main className=\"page__main page__main--index\">\r\n                <Navigation />\r\n                <div className=\"cities\">\r\n                    <div className={divClassName}>\r\n                        <section className={sectionClassName}>\r\n                            {(!hasOffers) ? null : <Filter />}\r\n                            \r\n                            <CardListContainer />\r\n                        </section>\r\n                        <Map />\r\n                    </div>\r\n                </div>\r\n            </main> \r\n        </div>\r\n    );\r\n}\r\n\r\nMainPage.propTypes = {\r\n    hasOffers: PropTypes.bool.isRequired,\r\n    isLoading: PropTypes.bool.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({offers}) => {\r\n    return {\r\n        hasOffers: hasOffers(offers),\r\n        isLoading: offers.isLoading\r\n    };\r\n}\r\n\r\nexport {MainPage};\r\nexport default connect(mapStateToProps)(MainPage);\r\n","const SUCCESS_STATUS = 200;\r\nconst UNAUTHORIZED_STATUS = 401;\r\n\r\nconst authStatusRequest = () => {\r\n    return {\r\n        type: `AUTH_STATUS_REQUEST`\r\n    }\r\n}\r\n\r\nconst authStatusSuccess = (email) => {    \r\n    return {\r\n        type: `AUTH_STATUS_SUCCESS`,\r\n        payload: email\r\n    }\r\n}\r\n\r\nconst authStatusUnauthorized = () => {\r\n    return {\r\n        type: `AUTH_STATUS_UNAUTHORIZED`\r\n    }\r\n}\r\n\r\nconst authStatusFail = () => {\r\n    return {\r\n        type: `AUTH_STATUS_FAIL`\r\n    }\r\n}\r\n\r\nconst fetchAuthStatus = () => (dispatch, getState, api) => {\r\n    dispatch(authStatusRequest());\r\n\r\n    return api.requestAuth()\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {\r\n                dispatch(authStatusSuccess(res.data.email));\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            if(err.response.status === UNAUTHORIZED_STATUS) {\r\n                dispatch(authStatusUnauthorized());\r\n            } else {\r\n                dispatch(authStatusFail());\r\n            }\r\n        })\r\n}\r\n\r\nconst fetchAuthRequest = () => {    \r\n    return {\r\n        type: `FETCH_AUTH_REQUEST`\r\n    };\r\n}\r\n\r\nconst fetchAuthSuccess = (email) => {\r\n    return {\r\n        type: `FETCH_AUTH_SUCCESS`,\r\n        payload: email\r\n    };\r\n}\r\n\r\nconst fetchAuthFail = () => {\r\n    return {\r\n        type: `FETCH_AUTH_FAIL`\r\n    };\r\n}\r\n\r\nconst fetchAuth = (userData) => (dispatch, getState, api) => {\r\n    dispatch(fetchAuthRequest());\r\n    \r\n    return api.sendUserData(userData)\r\n        .then((res) => {    \r\n            if(res.status === SUCCESS_STATUS) {\r\n                dispatch(fetchAuthSuccess(res.data.email));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchAuthFail()))\r\n}\r\n\r\nexport {fetchAuth, fetchAuthStatus};\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Login = ({onSubmit}) => {\r\n    const [emailVal, setEmailVal] = useState(``);\r\n    const [passwordVal, setPasswordVal] = useState(``);\r\n\r\n    const formSubmitHandler = (evt, emailVal, passwordVal) => {\r\n        evt.preventDefault();\r\n\r\n        onSubmit(emailVal, passwordVal);\r\n    }\r\n\r\n    return (\r\n        <main className=\"page__main page__main--login\">\r\n            <div className=\"page__login-container container\">\r\n                <section className=\"login\">\r\n                    <h1 className=\"login__title\">Sign in</h1>\r\n                    <form className=\"login__form form\" action=\"#\" method=\"post\"\r\n                        onSubmit={(evt) => formSubmitHandler(evt, emailVal, passwordVal)}\r\n                    >\r\n                        <div className=\"login__input-wrapper form__input-wrapper\">\r\n                            <label className=\"visually-hidden\">E-mail</label>\r\n                            <input className=\"login__input form__input\" type=\"email\" name=\"email\"\r\n                                placeholder=\"Email\" value={emailVal}\r\n                                onChange={(evt) => setEmailVal(evt.target.value)} required\r\n                            />\r\n                        </div>\r\n                        <div className=\"login__input-wrapper form__input-wrapper\">\r\n                            <label className=\"visually-hidden\">Password</label>\r\n                            <input className=\"login__input form__input\" type=\"password\" name=\"password\"\r\n                                placeholder=\"Password\" value={passwordVal}\r\n                                onChange={(evt) => setPasswordVal(evt.target.value)} required\r\n                            />\r\n                        </div>\r\n                        <button className=\"login__submit form__submit button\" type=\"submit\">Sign in</button>\r\n                    </form>\r\n                </section>\r\n                <section className=\"locations locations--login locations--current\">\r\n                    <div className=\"locations__item\">\r\n                        <a className=\"locations__item-link\" href=\"#\">\r\n                            <span>Amsterdam</span>\r\n                        </a>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nLogin.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport Header from '../../header/header.jsx';\r\nimport {fetchAuth} from '../../../actions/auth.js';\r\nimport Spinner from '../../spinner/spinner.jsx';\r\nimport Login from '../../login/login.jsx';\r\nimport ErrorIndicator from '../../errorIndicator/errorIndicator.jsx';\r\n\r\nconst LoginPage = ({isLoggedIn, isAuthLoading, fetchAuth, isAuthError}) => {\r\n    const formSubmitHandler = (email, password) => {\r\n        fetchAuth({\r\n            email,\r\n            password\r\n        });\r\n    }\r\n\r\n    if(isLoggedIn) {\r\n        return <Redirect to={`${process.env.PUBLIC_URL}/`} />;\r\n    }\r\n\r\n    if(isAuthLoading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if(isAuthError) {\r\n        return <ErrorIndicator operation=\"user's authorization\" />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"page page--gray page--login\">\r\n            <Header isMain={false} />\r\n\r\n            <Login onSubmit={formSubmitHandler} />\r\n        </div>\r\n    );\r\n}\r\n\r\nLoginPage.propTypes = {\r\n    fetchAuth: PropTypes.func.isRequired,\r\n    isLoggedIn: PropTypes.bool.isRequired,\r\n    isAuthLoading: PropTypes.bool.isRequired,\r\n    isAuthError: PropTypes.bool.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({auth: {isLoggedIn, isAuthLoading, isAuthError}}) => {\r\n    return {\r\n        isLoggedIn,\r\n        isAuthLoading,\r\n        isAuthError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchAuth: ({email, password}) => dispatch(fetchAuth({email, password}))\r\n    } \r\n}\r\n\r\nexport {LoginPage};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\r\n","const SUCCESS_STATUS = 200;\r\n\r\nconst fetchFavoritesRequest = () => {\r\n    return {\r\n        type: `FETCH_FAVORITES_REQUEST`\r\n    }\r\n}\r\n\r\nconst fetchFavoritesSuccess = (favorites) => {\r\n    return {\r\n        type: `FETCH_FAVORITES_SUCCESS`,\r\n        payload: favorites\r\n    }\r\n}\r\n\r\nconst fetchFavoritesFail = () => {\r\n    return {\r\n        type: `FETCH_FAVORITES_FAIL`\r\n    }\r\n}\r\n\r\nconst fetchFavorites = () => (dispatch, getState, api) => {\r\n    dispatch(fetchFavoritesRequest());\r\n\r\n    return api.getFavorites()\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {\r\n                dispatch(fetchFavoritesSuccess(res.data));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchFavoritesFail()))\r\n}\r\n\r\nconst fetchFavoriteRequest = () => {\r\n    return {\r\n        type: `FETCH_FAVORITE_REQUEST`\r\n    }\r\n}\r\n\r\nconst fetchFavoriteSuccess = (id) => {  \r\n    return {\r\n        type: `FETCH_FAVORITE_SUCCESS`,\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst fetchFavoriteFail = (id) => {  \r\n    return {\r\n        type: `FETCH_FAVORITE_FAIL`,\r\n        payload: id\r\n    }\r\n}\r\n\r\nconst fetchFavorite = (id, isFavorite) => (dispatch, getState, api) => {\r\n    dispatch(fetchFavoriteRequest());\r\n\r\n    return api.setFavorite(id, isFavorite)\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {\r\n                dispatch(fetchFavoriteSuccess(res.data.id));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchFavoriteFail()))\r\n}\r\n\r\nexport {fetchFavorites, fetchFavorite};\r\n","import React  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../card/card.jsx';\r\n\r\nconst FavoritesList = ({favorites}) => {\r\n    const favoriteCities = Array.from(new Set(favorites.map((item) => item.city.name)))\r\n        .sort();    \r\n\r\n    return (\r\n        <main className=\"page__main page__main--favorites\">\r\n            <div className=\"page__favorites-container container\">\r\n                <section className=\"favorites\">\r\n                    <h1 className=\"favorites__title\">Saved listing</h1>\r\n                    <ul className=\"favorites__list\">\r\n                        {\r\n                            favoriteCities.map((item) => {\r\n                                const hotels = favorites.filter((hotel) => hotel.city.name === item)\r\n                                    .map((elem) => {\r\n                                        return (\r\n                                            <Card key={elem.id} offer={elem} isNearby={false} isMain={false}\r\n                                                isFavPage={true}\r\n                                            />\r\n                                        );\r\n                                });\r\n\r\n                                return (\r\n                                    <li key={item} className=\"favorites__locations-items\">\r\n                                        <div className=\"favorites__locations locations locations--current\">\r\n                                            <div className=\"locations__item\">\r\n                                                <a className=\"locations__item-link\" href=\"#\">\r\n                                                    <span>{item}</span>\r\n                                                </a>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"favorites__places\">{hotels}</div>\r\n                                    </li>\r\n                                );\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nFavoritesList.propTypes = {\r\n    favorites: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    }))\r\n}\r\n\r\nexport default FavoritesList;\r\n","import React  from 'react';\r\n\r\nconst FavoritesListEmpty = () => {\r\n    return (\r\n        <main className=\"page__main page__main--favorites page__main--favorites-empty\">\r\n            <div className=\"page__favorites-container container\">\r\n                <section className=\"favorites favorites--empty\">\r\n                    <h1 className=\"visually-hidden\">Favorites (empty)</h1>\r\n                    <div className=\"favorites__status-wrapper\">\r\n                        <b className=\"favorites__status\">Nothing yet saved.</b>\r\n                        <p className=\"favorites__status-description\">\r\n                            Save properties to narrow down search or plan yor future trips.\r\n                        </p>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default FavoritesListEmpty;\r\n","import React, {useEffect}  from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {bindActionCreators} from 'redux';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport cn from 'classnames';\r\n\r\nimport {fetchFavorites} from '../../../actions/favorites.js';\r\nimport Spinner from '../../spinner/spinner.jsx';\r\nimport Header from '../../header/header.jsx';\r\nimport FavoritesList from '../../favoritesList/favoritesList.jsx';\r\nimport FavoritesListEmpty from '../../favoritesListEmpty/favoritesListEmpty.jsx';\r\nimport ErrorIndicator from '../../errorIndicator/errorIndicator.jsx';\r\n\r\nimport logo from './logo.svg';\r\n\r\nconst FavoritesPage = ({favorites, isFavoritesLoading, isFavoritesError, isLoggedIn, fetchFavorites}) => {\r\n    useEffect(() => {\r\n        fetchFavorites();\r\n    }, [fetchFavorites]);\r\n\r\n    if(!isLoggedIn) {\r\n        return <Redirect to={`${process.env.PUBLIC_URL}/login`} />;\r\n    }\r\n\r\n    if(isFavoritesLoading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if(isFavoritesError) {\r\n        return <ErrorIndicator operation=\"loading of the list of favorite offers\" />;\r\n    }\r\n\r\n    const divClassName = cn(`page`, {'page--favorites-empty': !favorites.length});\r\n\r\n    return (\r\n        <div className={divClassName}>\r\n            <Header isMain={false} />\r\n\r\n            {(favorites.length) ? <FavoritesList favorites={favorites} /> : <FavoritesListEmpty />}\r\n            \r\n            <footer className=\"footer\">\r\n                <Link to={`${process.env.PUBLIC_URL}/`} className=\"footer__logo-link\" title=\"To the main page\">\r\n                    <img className=\"footer__logo\" src={logo} alt=\"6 cities logo\" width=\"64\" height=\"33\" />\r\n                </Link>\r\n            </footer>\r\n        </div>\r\n    );\r\n}\r\n\r\nFavoritesPage.propTypes = {\r\n    favorites: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    })),\r\n    fetchFavorites: PropTypes.func.isRequired,\r\n    isFavoritesLoading: PropTypes.bool.isRequired,\r\n    isFavoritesError: PropTypes.bool.isRequired,\r\n    isLoggedIn: PropTypes.bool.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({favorites: {favorites, isFavoritesLoading, isFavoritesError}, auth: {isLoggedIn}}) => {\r\n    return {\r\n        favorites,\r\n        isFavoritesLoading, \r\n        isFavoritesError,\r\n        isLoggedIn\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchFavorites: bindActionCreators(fetchFavorites, dispatch)\r\n    }\r\n}\r\n\r\nexport {FavoritesPage};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FavoritesPage);\r\n","const SUCCESS_STATUS = 200;\r\n\r\nconst fetchReviewsRequest = () => {\r\n    return {\r\n        type: `FETCH_REVIEWS_REQUEST`\r\n    }\r\n}\r\n\r\nconst fetchReviewsSuccess = (reviews) => {\r\n    return {\r\n        type: `FETCH_REVIEWS_SUCCESS`,\r\n        payload: reviews\r\n    }\r\n}\r\n\r\nconst fetchReviewsFail = () => {\r\n    return {\r\n        type: `FETCH_REVIEWS_FAIL`\r\n    }\r\n}\r\n\r\nconst fetchReviews = (id) => (dispatch, getState, api) => {\r\n    dispatch(fetchReviewsRequest());\r\n\r\n    return api.getReviews(id)\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {\r\n                dispatch(fetchReviewsSuccess(res.data));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchReviewsFail()))\r\n}\r\n\r\nconst fetchReviewRequest = () => {\r\n    return {\r\n        type: `FETCH_REVIEW_REQUEST`\r\n    }\r\n}\r\n\r\nconst fetchReviewSuccess = () => {\r\n    return {\r\n        type: `FETCH_REVIEW_SUCCESS`\r\n    }\r\n}\r\n\r\nconst fetchReviewFail = () => {\r\n    return {\r\n        type: `FETCH_REVIEW_FAIL`\r\n    }\r\n}\r\n\r\nconst resetReviewError = () => {\r\n    return {\r\n        type: `RESET_REVIEW_ERROR`\r\n    }\r\n}\r\n\r\nconst fetchReview = (review, id) => (dispatch, getState, api) => {\r\n    dispatch(fetchReviewRequest());    \r\n\r\n    return api.sendUserReview(review, id)\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {                                \r\n                dispatch(fetchReviewSuccess());\r\n                dispatch(fetchReviews(id));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchReviewFail()));\r\n}\r\n\r\nexport {fetchReviews, fetchReview, resetReviewError};\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Form = ({onSubmit}) => {\r\n    const [commentValue, setCommentValue] = useState(``);\r\n    const [ratingValue, setRatingValue] = useState(``);\r\n\r\n    const titles = [`perfect`, `good`, `not bad`, `badly`, `terribly`];\r\n    const MIN_REVIEW_LENGTH = 50;\r\n    const MAX_REVIEW_LENGTH = 300;\r\n    const isValid = commentValue.length >= MIN_REVIEW_LENGTH && commentValue.length <= MAX_REVIEW_LENGTH && ratingValue;\r\n    const isDisabled = !isValid;\r\n\r\n    const formSubmitHandler = (evt, ratingValue, commentValue) => {\r\n        evt.preventDefault();\r\n\r\n        if(isValid) {\r\n            onSubmit(ratingValue, commentValue);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form className=\"reviews__form form\" action=\"#\" method=\"post\"\r\n            onSubmit={(evt) => formSubmitHandler(evt, ratingValue, commentValue)}\r\n        >\r\n            <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\r\n            <div className=\"reviews__rating-form form__rating\">\r\n                {\r\n                    titles.map((item, ind) => {\r\n                        return (\r\n                            <React.Fragment key={item}>\r\n                                <input className=\"form__rating-input visually-hidden\" name=\"rating\" value={5 - ind} \r\n                                    id={`${5 - ind}-stars`} type=\"radio\"\r\n                                    onChange={(evt) => setRatingValue(evt.target.value)}\r\n                                />\r\n                                <label htmlFor={`${5 - ind}-stars`} className=\"reviews__rating-label form__rating-label\"\r\n                                    title={item}\r\n                                >\r\n                                    <svg className=\"form__star-image\" width=\"37\" height=\"33\">\r\n                                        <use xlinkHref=\"#icon-star\"></use>\r\n                                    </svg>\r\n                                </label>\r\n                            </React.Fragment>\r\n                        );\r\n                    })\r\n                }\r\n            </div>\r\n            <textarea className=\"reviews__textarea form__textarea\" id=\"review\" name=\"review\"\r\n                onChange={(evt) => setCommentValue(evt.target.value)} value={commentValue}\r\n                placeholder=\"Tell how was your stay, what you like and what can be improved\"></textarea>\r\n            <div className=\"reviews__button-wrapper\">\r\n                <p className=\"reviews__help\">\r\n                    To submit review please make sure to set <span className=\"reviews__star\">rating</span> and\r\n                    describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\r\n                </p>\r\n                <button className=\"reviews__submit form__submit button\" type=\"submit\" title=\"Submit review\"\r\n                    disabled={isDisabled}\r\n                >\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nForm.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Form;\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport {fetchReview, resetReviewError} from '../../actions/reviews.js';\r\nimport Spinner from '../spinner/spinner.jsx';\r\nimport {hasUserReview} from '../../selectors.js';\r\nimport Form from '../form/form.jsx';\r\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\r\n\r\nconst FormContainer = ({isLoggedIn, fetchReview, id, isReviewLoading, isReviewError, hasUserReview,\r\n    resetReviewError}\r\n) => {\r\n    useEffect(() => {        \r\n        resetReviewError();\r\n    }, [id, resetReviewError]);\r\n\r\n    if(!isLoggedIn || hasUserReview) {        \r\n        return null;\r\n    }\r\n\r\n    if(isReviewLoading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if(isReviewError) {\r\n        return <ErrorIndicator operation=\"uploading of your review\" />;\r\n    }\r\n\r\n    const formSubmitHandler = (rating, comment) => {\r\n        const userData = {\r\n            rating,\r\n            comment\r\n        }\r\n        \r\n        fetchReview(userData, id);\r\n    }\r\n    \r\n    return <Form onSubmit={formSubmitHandler} />;\r\n}\r\n\r\nFormContainer.propTypes = {\r\n    isLoggedIn: PropTypes.bool.isRequired,\r\n    fetchReview: PropTypes.func.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    isReviewLoading: PropTypes.bool.isRequired,\r\n    isReviewError: PropTypes.bool.isRequired,\r\n    hasUserReview: PropTypes.bool.isRequired,\r\n    resetReviewError: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({auth: {isLoggedIn, email}, reviews:{isReviewLoading, isReviewError, reviews}}) => {\r\n    return {\r\n        isLoggedIn,\r\n        isReviewLoading,\r\n        isReviewError,\r\n        hasUserReview: hasUserReview(email, reviews, isLoggedIn)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchReview: bindActionCreators(fetchReview, dispatch),\r\n        resetReviewError: bindActionCreators(resetReviewError, dispatch)\r\n    }\r\n}\r\n\r\nexport {FormContainer};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormContainer);\r\n","const mapMonthToNubmer = (number) => {\r\n    const MONTHS = [`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`, `September`,\r\n        `October`, `November`, `December`];\r\n\r\n    return MONTHS[number];\r\n}\r\n\r\nexport default mapMonthToNubmer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport mapMonthToNubmer from '../../utils/mapMonthToNumber.js';\r\n\r\nconst Reviews = ({reviews}) => {    \r\n    return (\r\n        reviews.slice(0, 10)\r\n            .sort((a, b) => Date.parse(b.date) - Date.parse(a.date))\r\n            .map((item) => {\r\n                const {id, user, rating, comment, date} = item;\r\n                const dateObj = new Date(Date.parse(date));\r\n                const month = dateObj.getMonth();\r\n                const year = dateObj.getFullYear();\r\n\r\n                return (\r\n                    <li key={id} className=\"reviews__item\">\r\n                        <div className=\"reviews__user user\">\r\n                            <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\r\n                                <img className=\"reviews__avatar user__avatar\" src={user.avatar_url}\r\n                                    width=\"54\" height=\"54\" alt=\"Reviews avatar\"\r\n                                />\r\n                            </div>\r\n                            <span className=\"reviews__user-name\">{user.name}</span>\r\n                        </div>\r\n                        <div className=\"reviews__info\">\r\n                            <div className=\"reviews__rating rating\">\r\n                                <div className=\"reviews__stars rating__stars\">\r\n                                    <span style={{width: `${20 * rating}%`}}></span>\r\n                                    <span className=\"visually-hidden\">Rating</span>\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"reviews__text\">{comment}</p>\r\n                            <time className=\"reviews__time\" dateTime={`${year}-${month + 1}-${dateObj.getDate()}`}>\r\n                                {`${mapMonthToNubmer(month)} ${year}`}\r\n                            </time>\r\n                        </div>\r\n                    </li>\r\n                );\r\n            })\r\n    );\r\n}\r\n\r\nReviews.propTypes = {\r\n    reviews: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        user: PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            is_pro: PropTypes.bool.isRequired,\r\n            name: PropTypes.string.isRequired,\r\n            avatar_url: PropTypes.string.isRequired\r\n        }),\r\n        rating: PropTypes.number.isRequired,\r\n        comment: PropTypes.string.isRequired,\r\n        date: PropTypes.string.isRequired\r\n    }))\r\n}\r\n\r\nexport default Reviews;\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport {fetchReviews} from '../../actions/reviews.js';\r\nimport Spinner from '../spinner/spinner.jsx';\r\nimport FormContainer from '../formContainer/formContainer.jsx';\r\nimport Reviews from '../reviews/reviews.jsx';\r\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\r\n\r\nconst ReviewsContainer = ({reviews, isReviewsLoading, isReviewsError, id, fetchReviews}) => {\r\n    useEffect(() => {\r\n        fetchReviews(id);\r\n    }, [fetchReviews, id]);\r\n    \r\n    if(isReviewsLoading) {\r\n        return <Spinner />;\r\n    } \r\n    if(isReviewsError) {\r\n        return <ErrorIndicator operation=\"loading of the list of reviews\" />;\r\n    }\r\n\r\n    return (\r\n        <section className=\"property__reviews reviews\">\r\n            <h2 className=\"reviews__title\">\r\n                Reviews &middot; <span className=\"reviews__amount\">{reviews.length}</span>\r\n            </h2>\r\n            <ul className=\"reviews__list\">\r\n                <Reviews reviews={reviews} />\r\n\r\n                <FormContainer id={id} />\r\n            </ul>\r\n        </section>\r\n    );\r\n}\r\n\r\nReviewsContainer.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    fetchReviews: PropTypes.func.isRequired,\r\n    isReviewsError: PropTypes.bool.isRequired,\r\n    isReviewsLoading: PropTypes.bool.isRequired,\r\n    reviews: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        user: PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            is_pro: PropTypes.bool.isRequired,\r\n            name: PropTypes.string.isRequired,\r\n            avatar_url: PropTypes.string.isRequired\r\n        }),\r\n        rating: PropTypes.number.isRequired,\r\n        comment: PropTypes.string.isRequired,\r\n        date: PropTypes.string.isRequired\r\n    }))\r\n}\r\n\r\nconst mapStateToProps = ({reviews: {isReviewsError, isReviewsLoading, reviews}}) => {\r\n    return {\r\n        isReviewsError,\r\n        isReviewsLoading,\r\n        reviews\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch) => {\r\n    return {\r\n        fetchReviews: bindActionCreators(fetchReviews, dispatch)\r\n    }\r\n}\r\n\r\nexport {ReviewsContainer};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReviewsContainer);\r\n","import React, {useEffect} from 'react';\r\nimport leaflet from 'leaflet';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nimport getHotelsCoords from '../../utils/getHotelsCoords.js';\r\n\r\nimport activeIcon from './pin-active.svg';\r\nimport icon from './pin.svg';\r\n\r\nconst ReviewsMap = ({offer, nearbyHotels, focusedCard, history, isTestMode}) => {\r\n    useEffect(() => {\r\n        if(!isTestMode) {\r\n            const offerCoords = [offer.location.latitude, offer.location.longitude];\r\n\r\n            const activePin = createIcon(activeIcon);\r\n            const pin = createIcon(icon);\r\n\r\n            const zoom = 13;\r\n\r\n            const map = leaflet.map(`reviewsMap`, {\r\n                center: offerCoords,\r\n                zoom,\r\n                zoomControl: false,\r\n                marker: true\r\n            });\r\n\r\n            leaflet.tileLayer(`https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`, { \r\n                attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>\r\n                    contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\r\n                })\r\n                    .addTo(map);\r\n\r\n            let focusedHotel = null;\r\n\r\n            if(focusedCard) {\r\n                focusedHotel = nearbyHotels.find((item) => item.id === focusedCard);\r\n\r\n                createMarker(offerCoords, pin, map);\r\n            } else {\r\n                map.setView(offerCoords, zoom); \r\n                \r\n                createMarker(offerCoords, activePin, map, {title: offer.title, zIndexOffset: 1});\r\n            }\r\n\r\n            const nearbyHotelsCoords = getHotelsCoords(nearbyHotels);\r\n\r\n            nearbyHotelsCoords.forEach((coords, ind) => {\r\n                if(focusedHotel && coords[0] === focusedHotel.location.latitude\r\n                    && coords[1] === focusedHotel.location.longitude\r\n                ) {\r\n                    map.setView(coords, zoom);\r\n\r\n                    createMarker(coords, activePin, map, {zIndexOffset: 1});\r\n                } else {\r\n                    createMarker(coords, pin, map, {title: nearbyHotels[ind].title})\r\n                        .addEventListener(`click`, () => history.push(`/offer/${nearbyHotels[ind].id}`));\r\n                }\r\n            });\r\n            return () => map.remove();\r\n        }\r\n    }, [offer, nearbyHotels, focusedCard, history, isTestMode]);\r\n\r\n    const createIcon = (iconUrl) => {\r\n        return leaflet.icon({\r\n            iconUrl,\r\n            iconSize: [30, 30]\r\n        });\r\n    }\r\n\r\n    const createMarker = (coords, icon, map, options = {}) => {\r\n        const marker = leaflet.marker(coords, {\r\n            icon,\r\n            ...options\r\n        })\r\n        .addTo(map);\r\n\r\n        return marker;\r\n    }\r\n\r\n    return (\r\n        <section className=\"property__map map\">\r\n            <div id=\"reviewsMap\" style={{width: `100%`, height: `100%`}}></div>\r\n        </section>\r\n    );\r\n}\r\n\r\nReviewsMap.propTypes = {\r\n    isTestMode: PropTypes.bool.isRequired,\r\n    offer: PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    }),\r\n    focusedCard: PropTypes.number,\r\n    history: PropTypes.object.isRequired,\r\n    nearbyHotels: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    }))\r\n}\r\n\r\nconst mapStateToProps = ({nearby: {nearbyHotels}, card: {focusedCard}, offers: {isTestMode = false}}) => {\r\n    return {\r\n        nearbyHotels,\r\n        focusedCard,\r\n        isTestMode\r\n    }\r\n}\r\n\r\nexport {ReviewsMap};\r\nexport default compose(connect(mapStateToProps), withRouter)(ReviewsMap);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport cn from 'classnames';\r\n\r\nimport ReviewsContainer from '../reviewsContainer/reviewsContainer.jsx';\r\nimport ReviewsMap from '../reviewsMap/reviewsMap.jsx';\r\nimport {fetchFavorite} from '../../actions/favorites.js';\r\n\r\nimport maleAvarar from './avatar-max.jpg';\r\nimport femaleAvatar from './avatar-angelina.jpg';\r\n\r\nconst Offer = ({offer, fetchFavorite, isLoggedIn, history, isFavoriteError, isFavoriteLoading}) => {\r\n    const {images, is_premium: isPremium, title, is_favorite: isFavorite, rating, max_adults: maxAdults, type, bedrooms,\r\n            price, goods, id, host, description\r\n        } = offer;\r\n    const divClassName = cn(`property__avatar-wrapper user__avatar-wrapper`,\r\n        {'property__avatar-wrapper--pro': host.is_pro});\r\n    const btnClassName = cn(`property__bookmark-button button` , {'property__bookmark-button--active': isFavorite});\r\n\r\n    const buttonClickHandler = () => {\r\n        if(!isLoggedIn) {\r\n            history.push(`/login`);\r\n        } else {\r\n            fetchFavorite(id, isFavorite);\r\n        }\r\n    }\r\n    \r\n    const avatarsByUrl = {\r\n        'img/avatar-angelina.jpg': femaleAvatar,\r\n        'img/avatar-max.jpg': maleAvarar\r\n    }\r\n\r\n    let btnContent;\r\n\r\n    if(isFavoriteLoading) {\r\n        btnContent = <div>...</div>;\r\n    }\r\n     else if(isFavoriteError) {\r\n        btnContent = <div>Fail</div>;\r\n    } else {\r\n        btnContent = (\r\n            <React.Fragment>\r\n                <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\r\n                    <use xlinkHref={(isFavorite) ? `#icon-bookmark-active` : `#icon-bookmark`}></use>\r\n                </svg>\r\n                <span className=\"visually-hidden\">{(isFavorite) ? `In bookmarks` : `To bookmarks`}</span>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <section className=\"property\">\r\n            <div className=\"property__gallery-container container\">\r\n                <div className=\"property__gallery\">\r\n                    {\r\n                        images.slice(0, 6)\r\n                            .map((src) => {\r\n                                return (\r\n                                    <div key={src} className=\"property__image-wrapper\">\r\n                                        <img className=\"property__image\" src={src} alt=\"Studio\" />\r\n                                    </div>\r\n                                );\r\n                            })\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"property__container container\">\r\n                <div className=\"property__wrapper\">\r\n                    {(isPremium) ? <div className=\"property__mark\"><span>Premium</span></div> : null}\r\n\r\n                    <div className=\"property__name-wrapper\">\r\n                        <h1 className=\"property__name\">{title}</h1>\r\n                        <button className={btnClassName} type=\"button\" onClick={buttonClickHandler}\r\n                            title={(isFavorite) ? `Remove from bookmarks` : `Add to bookmarks`}\r\n                        >\r\n                            {btnContent}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"property__rating rating\">\r\n                        <div className=\"property__stars rating__stars\">\r\n                            <span style={{width: `${20 * rating}%`}}></span>\r\n                            <span className=\"visually-hidden\">Rating</span>\r\n                        </div>\r\n                        <span className=\"property__rating-value rating__value\">{rating}</span>\r\n                    </div>\r\n                    <ul className=\"property__features\">\r\n                        <li className=\"property__feature property__feature--entire\">{type}</li>\r\n                        <li className=\"property__feature property__feature--bedrooms\">{bedrooms} Bedrooms</li>\r\n                        <li className=\"property__feature property__feature--adults\">Max {maxAdults} adults</li>\r\n                    </ul>\r\n                    <div className=\"property__price\">\r\n                        <b className=\"property__price-value\">&euro;{price}</b>\r\n                        <span className=\"property__price-text\">&nbsp;night</span>\r\n                    </div>\r\n                    <div className=\"property__inside\">\r\n                        <h2 className=\"property__inside-title\">What&apos;s inside</h2>\r\n                        <ul className=\"property__inside-list\">\r\n                            {\r\n                                goods.map((item) => {\r\n                                    return (\r\n                                        <li key={item} className=\"property__inside-item\">{item}</li>\r\n                                    );\r\n                                })\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"property__host\">\r\n                        <h2 className=\"property__host-title\">Meet the host</h2>\r\n                        <div className=\"property__host-user user\">\r\n                            <div className={divClassName}>\r\n                                <img className=\"property__avatar user__avatar\" src={avatarsByUrl[host.avatar_url]}\r\n                                    width=\"74\" height=\"74\" alt=\"Host avatar\"\r\n                                />\r\n                            </div>\r\n                            <span className=\"property__user-name\">{host.name}</span>\r\n                        </div>\r\n                        <div className=\"property__description\">\r\n                            <p className=\"property__text\">{description}</p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <ReviewsContainer id={id} />\r\n                </div>\r\n            </div>\r\n            <ReviewsMap offer={offer} />\r\n        </section>\r\n    );\r\n}\r\n\r\nOffer.propTypes = {\r\n    fetchFavorite: PropTypes.func.isRequired,\r\n    isLoggedIn: PropTypes.bool.isRequired,\r\n    history: PropTypes.object,\r\n    isFavoriteError: PropTypes.bool.isRequired,\r\n    isFavoriteLoading: PropTypes.bool.isRequired,\r\n    offer: PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.oneOf([`room`, `house`, `hotel`, `apartment`]).isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired,\r\n        images: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n        bedrooms: PropTypes.number.isRequired,\r\n        max_adults: PropTypes.number.isRequired,\r\n        goods: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n        host: PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            is_pro: PropTypes.bool.isRequired,\r\n            name: PropTypes.string.isRequired,\r\n            avatar_url: PropTypes.string.isRequired\r\n        }),\r\n        description: PropTypes.string.isRequired,\r\n        location: PropTypes.shape({\r\n            latitude: PropTypes.number.isRequired,\r\n            longitude: PropTypes.number.isRequired,\r\n            zoom: PropTypes.number.isRequired\r\n        })\r\n    })\r\n}\r\n\r\nconst mapStateToProps = ({auth: {isLoggedIn}, offers: {isFavoriteError, isFavoriteLoading}}) => {\r\n    return {\r\n        isLoggedIn,\r\n        isFavoriteError,\r\n        isFavoriteLoading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchFavorite: bindActionCreators(fetchFavorite, dispatch)\r\n    }\r\n}\r\n\r\nexport {Offer};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Offer);\r\n","const SUCCESS_STATUS = 200;\r\n\r\nconst fetchNearbyRequest = () => {\r\n    return {\r\n        type: `FETCH_NEARBY_REQUEST`\r\n    };\r\n}\r\n\r\nconst fetchNearbySuccess = (nearbyHotels) => {\r\n    return {\r\n        type: `FETCH_NEARBY_SUCCESS`,\r\n        payload: nearbyHotels\r\n    };\r\n}\r\n\r\nconst fetchNearbyFail = () => {\r\n    return {\r\n        type: `FETCH_NEARBY_FAIL`\r\n    };\r\n}\r\n\r\nconst fetchNearbyHotels = (id) => (dispatch, getState, api) => {\r\n    dispatch(fetchNearbyRequest());\r\n\r\n    return api.getNearbyHotels(id)\r\n        .then((res) => {\r\n            if(res.status === SUCCESS_STATUS) {                \r\n                dispatch(fetchNearbySuccess(res.data));\r\n            }\r\n        })\r\n        .catch(() => dispatch(fetchNearbyFail()))\r\n}\r\n\r\nexport default fetchNearbyHotels;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from '../card/card.jsx';\r\n\r\nconst NearbyHotels = ({hotels}) => {\r\n    return (\r\n        <div className=\"container\">\r\n            <section className=\"near-places places\">\r\n                <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\r\n                <div className=\"near-places__list places__list\">\r\n                    {\r\n                        hotels.map((item) => {\r\n                            return (\r\n                                <Card key={item.id} offer={item} isNearby={true} isMain={false} isFavPage={false} />\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\nNearbyHotels.propTypes = {\r\n    hotels: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    }))\r\n}\r\n\r\nexport default NearbyHotels;\r\n","import React, {useEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {bindActionCreators} from 'redux';\r\n\r\nimport fetchNearbyHotels from '../../actions/nearby.js';\r\nimport Spinner from '../spinner/spinner.jsx';\r\nimport NearbyHotels from '../nearbyHotels/nearbyHotels.jsx';\r\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\r\n\r\nconst NearbyHotelsContainer = ({nearbyHotels, isNearbyError, isNearbyLoading, id, fetchNearbyHotels}) => {\r\n    useEffect(() => {\r\n        fetchNearbyHotels(id);\r\n    }, [fetchNearbyHotels, id]);\r\n\r\n    if(isNearbyLoading) {\r\n        return <Spinner />;\r\n    }\r\n\r\n    if(isNearbyError) {\r\n        return <ErrorIndicator operation=\"loading the list of nearby offers\" />; \r\n    }\r\n\r\n    return <NearbyHotels hotels={nearbyHotels} />;\r\n}\r\n\r\nNearbyHotelsContainer.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    isNearbyError: PropTypes.bool.isRequired,\r\n    isNearbyLoading: PropTypes.bool.isRequired,\r\n    fetchNearbyHotels: PropTypes.func.isRequired,\r\n    nearbyHotels: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.string.isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired\r\n    }))\r\n}\r\n\r\nconst mapStateToProps = ({nearby: {nearbyHotels, isNearbyError, isNearbyLoading}}) => {\r\n    return {\r\n        nearbyHotels,\r\n        isNearbyError,\r\n        isNearbyLoading\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchNearbyHotels: bindActionCreators(fetchNearbyHotels, dispatch)\r\n    }\r\n}\r\n\r\nexport {NearbyHotelsContainer};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NearbyHotelsContainer);\r\n","import React, {useEffect} from 'react';\r\nimport {withRouter, Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {compose, bindActionCreators} from 'redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Header from '../../header/header.jsx';\r\nimport Offer from '../../offer/offer.jsx';\r\nimport Spinner from '../../spinner/spinner.jsx';\r\nimport NearbyHotelsContainer from '../../nearbyHotelsContainer/nearbyHotelsContainer.jsx';\r\nimport fetchOffers from '../../../actions/offers.js';\r\nimport ErrorIndicator from '../../errorIndicator/errorIndicator.jsx';\r\n\r\nconst OfferPage = ({match, offers, isLoading, history, fetchOffers, isError}) => {   \r\n    useEffect(() => {\r\n        fetchOffers();\r\n    }, [fetchOffers]);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [match.params.id]);\r\n\r\n    if(isLoading) {\r\n        return (\r\n            <div className=\"page\">\r\n                <Header isMain={false} />\r\n                <Spinner />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if(isError) {\r\n        return (\r\n            <div className=\"page\">\r\n                <Header isMain={false} />\r\n                <ErrorIndicator operation=\"loading of this offer\" />\r\n            </div>\r\n        );\r\n    }   \r\n\r\n    const offer = offers.find((item) => item.id === +match.params.id);\r\n    \r\n    if(!offer) {\r\n        return <Redirect to={`${process.env.PUBLIC_URL}/`} />;\r\n    }\r\n    \r\n    return (\r\n        <div className=\"page\">\r\n            <Header isMain={false} />\r\n            <Offer offer={offer} history={history} />\r\n            <NearbyHotelsContainer id={offer.id} />\r\n        </div>\r\n    );\r\n}\r\n\r\nOfferPage.propTypes = {\r\n    offers: PropTypes.arrayOf(PropTypes.shape({\r\n        price: PropTypes.number.isRequired,\r\n        is_favorite: PropTypes.bool.isRequired,\r\n        is_premium: PropTypes.bool.isRequired,\r\n        rating: PropTypes.number.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n        type: PropTypes.oneOf([`room`, `house`, `hotel`, `apartment`]).isRequired,\r\n        preview_image: PropTypes.string.isRequired,\r\n        id: PropTypes.number.isRequired,\r\n        images: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n        bedrooms: PropTypes.number.isRequired,\r\n        max_adults: PropTypes.number.isRequired,\r\n        goods: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n        host: PropTypes.object.isRequired,\r\n        description: PropTypes.string.isRequired,\r\n        location: PropTypes.shape({\r\n            latitude: PropTypes.number.isRequired,\r\n            longitude: PropTypes.number.isRequired,\r\n            zoom: PropTypes.number.isRequired\r\n        })\r\n    })),\r\n    match: PropTypes.object,\r\n    isLoading: PropTypes.bool.isRequired,\r\n    fetchOffers: PropTypes.func.isRequired,\r\n    isError: PropTypes.bool.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({offers: {offers, isLoading, isError}}) => {\r\n    return {\r\n        offers,\r\n        isLoading,\r\n        isError\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchOffers: bindActionCreators(fetchOffers, dispatch)\r\n    }\r\n}\r\n\r\nexport {OfferPage};\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withRouter)(OfferPage);\r\n","import React, {useEffect} from 'react';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport MainPage from '../pages/mainPage/mainPage.jsx';\r\nimport LoginPage from '../pages/loginPage/loginPage.jsx';\r\nimport FavoritesPage from '../pages/favoritesPage/favoritesPage.jsx';\r\nimport OfferPage from '../pages/offerPage/offerPage.jsx';\r\nimport {fetchAuthStatus} from '../../actions/auth.js';\r\n\r\nconst App = ({fetchAuthStatus}) => {\r\n\tuseEffect(() => {\r\n\t\tfetchAuthStatus();\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={`${process.env.PUBLIC_URL}/`} component={MainPage} exact />\r\n\t\t\t<Route path={`${process.env.PUBLIC_URL}/login`} component={LoginPage} exact />\r\n\t\t\t<Route path={`${process.env.PUBLIC_URL}/favorites`} component={FavoritesPage} exact />\r\n\t\t\t<Route path={`${process.env.PUBLIC_URL}/offer/:id`} component={OfferPage} exact />\r\n\t\t\t<Redirect to={`${process.env.PUBLIC_URL}/`} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n\r\nApp.propTypes = {\r\n\tfetchAuthStatus: PropTypes.func.isRequired\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\t\tfetchAuthStatus: bindActionCreators(fetchAuthStatus, dispatch)\r\n    }\r\n}\r\n\r\nexport {App};\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","import React from 'react';\r\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\r\n\r\nclass ErrorBoundary extends React.PureComponent {\r\n    state = {\r\n        isError: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({\r\n            isError: true\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if(this.state.isError) {\r\n            return <ErrorIndicator operation=\"loading of this website\" />;\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter as Router} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\n\r\nimport store from './store.js';\r\nimport App from './components/app/app.jsx';\r\nimport ErrorBoundary from './components/errorBoundary/errorBoundary.jsx';\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<ErrorBoundary>\r\n\t\t\t<Router>\r\n\t\t\t\t<App />\r\n\t\t\t</Router>\r\n\t\t</ErrorBoundary>\r\n\t</Provider>,\r\n\tdocument.querySelector(`#root`)\r\n);\r\n"],"sourceRoot":""}