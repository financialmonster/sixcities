{"version":3,"sources":["components/header/logo.svg","components/map/pin-active.svg","components/map/pin.svg","components/pages/favoritesPage/logo.svg","components/reviewsMap/pin-active.svg","components/reviewsMap/pin.svg","components/offer/avatar-max.jpg","components/offer/avatar-angelina.jpg","reducers/cardReducer/cardReducer.js","reducers/authReducer/authReducer.js","reducers/nearbyReducer/nearbyReducer.js","reducers/favoritesReducer/favoritesReducer.js","reducers/reviewsReducer/reviewsReducer.js","utils/sortOffers.js","reducers/offersReducer/offersReducer.js","reducers/reducer.js","store.js","components/spinner/spinner.jsx","selectors.js","api.js","actions/offers.js","actions/helpers.js","components/card/card.jsx","components/cardList/cardList.jsx","components/cardListEmpty/cardListEmpty.jsx","components/errorIndicator/errorIndicator.jsx","components/cardListContainer/cardListContainer.jsx","components/header/header.jsx","components/navigation/navigation.jsx","components/filter/filter.jsx","utils/getHotelsCoords.js","components/map/map.jsx","components/pages/mainPage/mainPage.jsx","actions/auth.js","components/login/login.jsx","components/pages/loginPage/loginPage.jsx","actions/favorites.js","components/favoritesList/favoritesList.jsx","components/favoritesListEmpty/favoritesListEmpty.jsx","components/pages/favoritesPage/favoritesPage.jsx","actions/reviews.js","components/form/form.jsx","components/formContainer/formContainer.jsx","utils/mapMonthToNumber.js","components/reviews/reviews.jsx","components/reviewsContainer/reviewsContainer.jsx","components/reviewsMap/reviewsMap.jsx","components/offer/offer.jsx","actions/nearby.js","components/nearbyHotels/nearbyHotels.jsx","components/nearbyHotelsContainer/nearbyHotelsContainer.jsx","components/pages/offerPage/offerPage.jsx","components/app/app.jsx","components/errorBoundary/errorBoundary.jsx","index.js"],"names":["module","exports","initialState","focusedCard","cardReducer","state","action","type","payload","isLoggedIn","email","isAuthLoading","isAuthError","isAuthStatusLoading","isAuthStatusError","authReducer","nearbyHotels","isNearbyLoading","isNearbyError","nearbyReducer","slice","favorites","isFavoritesLoading","isFavoritesError","favoritesReducer","reviews","isReviewsLoading","isReviewsError","isReviewLoading","isReviewError","reviewsReducer","sortOffers","offers","offersCopy","sort","a","b","id","price","rating","isLoading","isError","activeCity","currentSorting","isFavoriteLoading","isFavoriteError","reducer","ind","offer","newOffer","is_favorite","newOffers","combineReducers","card","auth","nearby","offersReducer","store","createStore","applyMiddleware","thunkMiddleware","Spinner","className","hasOffers","length","citiesNames","Array","from","Set","map","item","city","name","hotelsByCity","filter","activeCityCoords","cityHotel","find","location","latitude","longitude","hasUserReview","findIndex","user","split","api","axios","create","baseURL","timeout","withCredentials","fetchOffers","dispatch","get","then","res","status","data","Math","floor","random","catch","sortBy","sortingType","activeCityChange","focusCard","blurCard","connect","cardMouseEnterHandler","bindActionCreators","cardMouseLeaveHandler","isPremium","is_premium","isFavorite","title","src","preview_image","isNearby","isMain","isFavPage","btnClassName","cn","articleClassName","wrapperDivClassName","infoDivClassName","to","onClick","onMouseEnter","onMouseLeave","width","height","alt","xlinkHref","style","CardList","key","CardListEmpty","ErrorIndicator","operation","useEffect","logoLink","mainLink","spanClassName","logo","navItemClickHandler","Fragment","href","useState","isOpened","setIsOpened","optionsList","tabIndex","method","getHotelsCoords","hotels","Map","lastFocusedHotel","prevProps","this","props","history","remove","pin","leaflet","icon","iconUrl","iconSize","activePin","activeIcon","center","zoom","zoomControl","marker","setView","tileLayer","attribution","addTo","hotelsCoords","forEach","coords","zIndexOffset","addEventListener","push","React","PureComponent","compose","withRouter","divClassName","sectionClassName","fetchAuthStatus","err","response","fetchAuth","userData","post","sendUserData","Login","onSubmit","emailVal","setEmailVal","passwordVal","setPasswordVal","evt","placeholder","value","onChange","target","required","password","preventDefault","fetchFavorites","fetchFavorite","setFavorite","fetchFavoriteSuccess","fetchFavoriteFail","FavoritesList","favoriteCities","hotel","elem","FavoritesListEmpty","fetchReviews","getReviews","resetReviewError","fetchReview","review","sendUserReview","Form","commentValue","setCommentValue","ratingValue","setRatingValue","isDisabled","htmlFor","disabled","comment","mapMonthToNubmer","number","Reviews","Date","parse","date","dateObj","month","getMonth","year","getFullYear","avatar_url","dateTime","getDate","offerCoords","focusedHotel","btnContent","images","maxAdults","max_adults","bedrooms","goods","host","description","is_pro","avatarsByUrl","femaleAvatar","maleAvarar","fetchNearbyHotels","getNearbyHotels","NearbyHotels","match","window","scrollTo","params","path","component","MainPage","exact","LoginPage","FavoritesPage","OfferPage","ErrorBoundary","setState","children","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.c03b0e91.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.052bc629.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin-active.6747ef6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin.19314a0f.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.052bc629.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin-active.6747ef6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin.19314a0f.svg\";","module.exports = \"data:image/jpeg;base64,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\"","module.exports = \"data:image/jpeg;base64,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\"","const initialState = {\n    focusedCard: null\n}\n\nconst cardReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case `FOCUS_CARD`:            \n            return {\n                ...state,\n                focusedCard: action.payload\n            }\n\n        case `BLUR_CARD`:\n            return {\n                ...state,\n                focusedCard: null\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default cardReducer;\n","const initialState = {\n    isLoggedIn: false,\n    email: null,\n    isAuthLoading: false,\n    isAuthError: false,\n    isAuthStatusLoading: true,\n    isAuthStatusError: false\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case `FETCH_AUTH_REQUEST`:\n            return {\n                ...state,\n                email: null,\n                isAuthLoading: true,\n                isAuthError: false,\n                isLoggedIn: false\n            }\n\n        case `FETCH_AUTH_SUCCESS`:\n            return {\n                ...state,\n                email: action.payload,\n                isAuthLoading: false,\n                isAuthError: false,\n                isLoggedIn: true\n            }\n\n        case `FETCH_AUTH_FAIL`:\n            return {\n                ...state,\n                email: null,\n                isAuthLoading: false,\n                isAuthError: true,\n                isLoggedIn: false\n            }\n\n        case `AUTH_STATUS_REQUEST`:\n            return {\n                ...state,\n                isAuthStatusLoading: true,\n                isAuthStatusError: false\n            }\n\n        case `AUTH_STATUS_SUCCESS`:\n            return {\n                ...state,\n                isLoggedIn: true,\n                email: action.payload,\n                isAuthStatusLoading: false,\n                isAuthStatusError: false\n            }\n\n        case `AUTH_STATUS_UNAUTHORIZED`:\n            return {\n                ...state,\n                isLoggedIn: false,\n                email: null,\n                isAuthStatusLoading: false,\n                isAuthStatusError: false\n            }\n\n        case `AUTH_STATUS_FAIL`:\n            return {\n                ...state,\n                isLoggedIn: false,\n                email: null,\n                isAuthStatusLoading: false,\n                isAuthStatusError: true\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default authReducer;\n","const initialState = {\n    nearbyHotels: [],\n    isNearbyLoading: false,\n    isNearbyError: false\n}\n\nconst nearbyReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case `FETCH_NEARBY_REQUEST`:\n            return {\n                ...state,\n                nearbyHotels: [],\n                isNearbyLoading: true,\n                isNearbyError: false\n            }\n\n        case `FETCH_NEARBY_SUCCESS`:\n            return {\n                ...state,\n                nearbyHotels: action.payload.slice(0, 3),\n                isNearbyLoading: false,\n                isNearbyError: false\n            }\n\n        case `FETCH_NEARBY_FAIL`:\n            return {\n                ...state,\n                nearbyHotels: [],\n                isNearbyLoading: false,\n                isNearbyError: true\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default nearbyReducer;\n","const initialState = {\n    favorites: [],\n    isFavoritesLoading: false,\n    isFavoritesError: false\n}\n\nconst favoritesReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case `FETCH_FAVORITES_REQUEST`:\n            return {\n                ...state,\n                isFavoritesLoading: true,\n                isFavoritesError: false,\n                favorites: []\n            }\n\n        case `FETCH_FAVORITES_SUCCESS`:\n            return {\n                ...state,\n                isFavoritesLoading: false,\n                isFavoritesError: false,\n                favorites: action.payload\n            }\n\n        case `FETCH_FAVORITES_FAIL`:\n            return {\n                ...state,\n                isFavoritesLoading: false,\n                isFavoritesError: true,\n                favorites: []\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default favoritesReducer;\n","const initialState = {\n    reviews: [],\n    isReviewsLoading: false,\n    isReviewsError: false,\n    isReviewLoading: false,\n    isReviewError: false\n}\n\nconst reviewsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case `FETCH_REVIEWS_REQUEST`:\n            return {\n                ...state,\n                reviews: [],\n                isReviewsLoading: true,\n                isReviewsError: false\n            }\n\n        case `FETCH_REVIEWS_SUCCESS`:\n            return {\n                ...state,\n                reviews: action.payload,\n                isReviewsLoading: false,\n                isReviewsError: false\n            }\n\n        case `FETCH_REVIEWS_FAIL`:\n            return {\n                ...state,\n                reviews: [],\n                isReviewsLoading: false,\n                isReviewsError: true\n            }\n\n        case `FETCH_REVIEW_REQUEST`:            \n            return {\n                ...state,\n                isReviewLoading: true,\n                isReviewError: false\n            }\n\n        case `FETCH_REVIEW_SUCCESS`:\n            return {\n                ...state,\n                isReviewLoading: false,\n                isReviewError: false\n            }\n\n        case `FETCH_REVIEW_FAIL`:\n            return {\n                ...state,\n                isReviewLoading: false,\n                isReviewError: true\n            }\n\n        case `RESET_REVIEW_ERROR`:\n            return {\n                ...state,\n                isReviewError: false\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default reviewsReducer;\n","const sortOffers = (offers, type) => {\n    const offersCopy = [...offers];\n\n    switch(type) {\n        case `Popular`:\n            return offersCopy.sort((a, b) => a.id - b.id);\n            \n        case `Price: low to high`:\n            return offersCopy.sort((a, b) => a.price - b.price);\n\n        case `Price: high to low`:\n            return offersCopy.sort((a, b) => b.price - a.price);\n\n        case `Top rated first`:\n            return offersCopy.sort((a, b) => b.rating - a.rating);\n\n        default:\n            return offersCopy;\n    }\n}\n\nexport default sortOffers;\n","import sortOffers from '../../utils/sortOffers.js';\n\nconst initialState = {\n    offers: [],\n    isLoading: true,\n    isError: false,\n    activeCity: null,\n    currentSorting: `Popular`,\n    isFavoriteLoading: false,\n    isFavoriteError: false\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case `FETCH_OFFERS_REQUEST`:\n            return {\n                ...state,\n                offers: [],\n                isLoading: true,\n                isError: false,\n                activeCity: null\n            }\n\n        case `FETCH_OFFERS_SUCCESS`:                    \n            return {\n                ...state,\n                isError: false,\n                isLoading: false,\n                activeCity: action.payload.activeCity,\n                offers: action.payload.offers,\n            }\n\n        case `FETCH_OFFERS_FAIL`:\n            return {\n                ...state,\n                offers: [],\n                isLoading: false,\n                isError: true,\n            }\n\n        case `SORT_BY`:\n            return {\n                ...state,\n                offers: sortOffers(state.offers, action.payload),\n                currentSorting: action.payload\n            }\n\n        case `ACTIVE_CITY_CHANGE`:            \n            return {\n                ...state,\n                activeCity: action.payload\n            }\n\n        case `FETCH_FAVORITE_REQUEST`:                  \n            return {\n                ...state,\n                isFavoriteLoading: true,\n                isFavoriteError: false\n            }\n\n        case `FETCH_FAVORITE_FAIL`:                  \n            return {\n                ...state,\n                isFavoriteLoading: false,\n                isFavoriteError: true\n            }\n\n        case `FETCH_FAVORITE_SUCCESS`:\n            const ind = action.payload - 1;\n            const offer = state.offers[ind];\n            const newOffer = {...offer, is_favorite: !offer.is_favorite};\n            const newOffers = [...state.offers.slice(0, ind), newOffer, ...state.offers.slice(ind + 1)];\n                        \n            return {\n                ...state,\n                offers: newOffers,\n                isFavoriteLoading: false,\n                isFavoriteError: false\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport default reducer;\n","import {combineReducers} from 'redux';\n\nimport cardReducer from './cardReducer/cardReducer.js';\nimport authReducer from './authReducer/authReducer.js';\nimport nearbyReducer from './nearbyReducer/nearbyReducer.js';\nimport favoritesReducer from './favoritesReducer/favoritesReducer.js';\nimport reviewsReducer from './reviewsReducer/reviewsReducer.js';\nimport offersReducer from './offersReducer/offersReducer.js';\n\nconst reducer = combineReducers({\n    card: cardReducer,\n    auth: authReducer,\n    nearby: nearbyReducer,\n    favorites: favoritesReducer,\n    reviews: reviewsReducer,\n    offers: offersReducer\n});\n\nexport default reducer;\n","import {createStore, applyMiddleware} from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport reducer from './reducers/reducer.js';\n\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware));\n\nexport default store;\n","import React from 'react';\n\nimport './spinner.scss';\n\nconst Spinner = () => {\n    return (\n        <div className=\"spinner\">\n            <div className=\"spinnerContent\">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>\n        </div>\n    );\n}\n\nexport default Spinner;\n","const hasOffers = ({offers, isError}) => !!offers.length && !isError;\n\nconst citiesNames = ({offers}) => Array.from(new Set(offers.map((item) => item.city.name))).sort().slice(0, 6);\n\nconst hotelsByCity = ({offers, activeCity}) => offers.filter((item) => item.city.name === activeCity);\n\nconst activeCityCoords = ({offers, activeCity}) => {\n    const cityHotel = offers.find((item) => item.city.name === activeCity);\n\n    if (!cityHotel) {\n        return;\n    }\n\n    return [cityHotel.city.location.latitude, cityHotel.city.location.longitude];\n}\n\nconst hasUserReview = (email, reviews, isLoggedIn) => {\n    return isLoggedIn && reviews.findIndex((item) => item.user.name === email.split(`@`)[0]) !== -1; \n}\n\nexport {hasOffers, citiesNames, hotelsByCity, activeCityCoords, hasUserReview};\n","import axios from 'axios';\n\nconst api = axios.create({\n\tbaseURL: `https://htmlacademy-react-3.appspot.com/six-cities`,\n    timeout: 5000,\n    withCredentials: true\n});\n\nconst getOffers = () => api.get(`/hotels`);\n\nconst sendUserData = (userData) => api.post(`/login`, userData);\n\nconst requestAuth = () => api.get(`/login`);\n\nconst getReviews = (id) => api.get(`/comments/${id}`);\n\nconst sendUserReview = (review, id) => api.post(`/comments/${id}`, review);\n\nconst getFavorites = () => api.get(`/favorite`);\n\nconst setFavorite = (id, isFavorite) => api.post(`/favorite/${id}/${(isFavorite) ? 0 : 1}`);\n\nconst getNearbyHotels = (id) => api.get(`/hotels/${id}/nearby`);\n\nexport {getOffers, sendUserData, getReviews, sendUserReview, getFavorites, setFavorite, requestAuth, getNearbyHotels};\n","import {getOffers} from '../api.js';\n\nconst SUCCESS_STATUS = 200;\n\nconst fetchOffersRequest = () => {\n    return {\n        type: `FETCH_OFFERS_REQUEST`\n    };\n}\n\nconst fetchOffersSuccess = (offers) => {\n    return {\n        type: `FETCH_OFFERS_SUCCESS`,\n        payload: {\n            offers,\n            activeCity: offers[Math.floor(Math.random() * offers.length)].city.name\n        }\n    };\n}\n\nconst fetchOffersFail = () => {\n    return {\n        type: `FETCH_OFFERS_FAIL`\n    };\n}\n\nconst fetchOffers = () => (dispatch) => {\n    dispatch(fetchOffersRequest());\n\n    getOffers()\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {\n                dispatch(fetchOffersSuccess(res.data));\n            }\n        })\n        .catch(() => dispatch(fetchOffersFail()))\n}\n\nexport default fetchOffers;\n","const sortBy = (sortingType) => {\n    return {\n        type: `SORT_BY`,\n        payload: sortingType\n    };\n}\n\nconst activeCityChange = (city) => {\n    return {\n        type: `ACTIVE_CITY_CHANGE`,\n        payload: city\n    }\n}\n\nconst focusCard = (id) => {\n    return {\n        type: `FOCUS_CARD`,\n        payload: id\n    }\n}\n\nconst blurCard = () => {\n    return {\n        type: `BLUR_CARD`\n    }\n}\n\nexport {sortBy, activeCityChange, focusCard, blurCard};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport cn from 'classnames';\nimport {bindActionCreators} from 'redux';\n\nimport {focusCard, blurCard} from '../../actions/helpers.js';\n\nconst Card = ({offer: {price, is_premium: isPremium, is_favorite: isFavorite, rating, title, type,\n    preview_image: src, id}, cardMouseEnterHandler, cardMouseLeaveHandler, isNearby, isMain, isFavPage}\n) => {\n    const btnClassName = cn(`place-card__bookmark-button button`, {'place-card__bookmark-button--active': isFavorite});\n    const articleClassName = cn(`place-card`,\n        {'near-places__card': isNearby, 'cities__place-card': isMain, 'favorites__card': isFavPage});\n    const wrapperDivClassName = cn(`place-card__image-wrapper`,\n        {'near-places__image-wrapper': isNearby, 'cities__image-wrapper': isMain, 'favorites__image-wrapper': isFavPage});\n    const infoDivClassName = cn(`place-card__info`, {'favorites__card-info': isFavPage});\n\n    return (\n        <Link to={`/offer/${id}`} title={`To the ${title} offer page`} onClick={cardMouseLeaveHandler}>\n            <article className={articleClassName} onMouseEnter={() => cardMouseEnterHandler(id)}\n                onMouseLeave={cardMouseLeaveHandler}\n            >\n                {(isPremium) ? <div className=\"place-card__mark\"><span>Premium</span></div> : null}\n\n                <div className={wrapperDivClassName}>\n                    <img className=\"place-card__image\" src={src} width={(isFavPage) ? \"150\" : \"260\"}\n                        height={(isFavPage) ? \"110\" : \"200\"} alt=\"Place pic\"\n                    />\n                </div>\n                <div className={infoDivClassName}>\n                    <div className=\"place-card__price-wrapper\">\n                        <div className=\"place-card__price\">\n                            <b className=\"place-card__price-value\">&euro;{price}</b>\n                            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n                        </div>\n                        <button className={btnClassName} type=\"button\"\n                            title={(isFavorite) ? `In bookmarks` : `To bookmarks`}\n                        >\n                            <svg className=\"place-card__bookmark-icon\" width=\"18\" height=\"19\">\n                                <use xlinkHref=\"#icon-bookmark\"></use>\n                            </svg>\n                            <span className=\"visually-hidden\">{(isFavorite) ? `In bookmarks` : `Not in bookmarks`}</span>\n                        </button>\n                    </div>\n                    <div className=\"place-card__rating rating\">\n                        <div className=\"place-card__stars rating__stars\">\n                            <span style={{width: `${20 * rating}%`}}></span>\n                            <span className=\"visually-hidden\">Rating</span>\n                        </div>\n                    </div>\n                    <h2 className=\"place-card__name\">{title}</h2>\n                    <p className=\"place-card__type\">{type}</p>\n                </div>\n            </article>\n        </Link>\n    )\n}\n\nCard.propTypes = {\n    cardMouseEnterHandler: PropTypes.func.isRequired,\n    cardMouseLeaveHandler: PropTypes.func.isRequired,\n    isNearby: PropTypes.bool.isRequired,\n    isFavPage: PropTypes.bool.isRequired,\n    isMain: PropTypes.bool.isRequired,\n    offer: PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    })\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        cardMouseEnterHandler:  bindActionCreators(focusCard ,dispatch),\n        cardMouseLeaveHandler:  bindActionCreators(blurCard, dispatch)\n    }\n}\n\nexport {Card};\nexport default connect(null, mapDispatchToProps)(Card);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Card from '../card/card.jsx';\n\nconst CardList = ({offers}) => {\n    return (\n         <div className=\"cities__places-list places__list tabs__content\">\n            {\n                offers.map((offer) => {\n                    return (\n                        <Card key={offer.id} offer={offer} isNearby={false} isMain={true} isFavPage={false} />\n                    );\n                })\n            }\n        </div>\n    );\n}\n\nCardList.propTypes = {\n    offers: PropTypes.arrayOf(PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    }))\n}\n\nexport default CardList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst CardListEmpty = ({city}) => {\n    return (\n        <div className=\"cities__status-wrapper tabs__content\">\n            <b className=\"cities__status\">No places to stay available</b>\n            <p className=\"cities__status-description\">We could not find any property available at the\n                moment in {city}\n            </p>\n        </div>\n    );\n}\n\nCardListEmpty.propTypes = {\n    city: PropTypes.string.isRequired\n}\n\nexport default CardListEmpty;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorIndicator = ({operation}) => {\n    return (\n        <div className=\"cities__status-wrapper tabs__content\">\n            <b className=\"cities__status\">We're sorry</b>\n            <p className=\"cities__status-description\">\n                It's been an error during the process of {operation}. Please, reload the page and try again  \n            </p>\n        </div>\n    );\n}\n\nErrorIndicator.propTypes = {\n   operation: PropTypes.string.isRequired \n}\n\nexport default ErrorIndicator;\n","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport Spinner from '../spinner/spinner.jsx';\nimport {hasOffers, hotelsByCity} from '../../selectors.js';\nimport fetchOffers from '../../actions/offers.js';\nimport CardList from '../cardList/cardList.jsx';\nimport CardListEmpty from '../cardListEmpty/cardListEmpty.jsx';\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\n\nconst CardListContainer = ({fetchOffers, offers, isLoading, activeCity, isError}) => {\n    useEffect(() => {\n        fetchOffers();\n    }, [fetchOffers]);\n\n    if(isLoading) {\n        return <Spinner />;\n    }\n\n    if(isError) {\n        return <ErrorIndicator operation=\"loading of the list of offers\" />;\n    }\n\n    if(!offers.length) {\n        return <CardListEmpty city={activeCity} />;\n    }\n\n    return <CardList offers={offers} />;\n}\n\nCardListContainer.propTypes = {\n    offers: PropTypes.arrayOf(PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    })),\n    isLoading: PropTypes.bool.isRequired,\n    hasOffers: PropTypes.bool.isRequired,\n    activeCity: PropTypes.string,\n    fetchOffers: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = ({offers}) => {\n    return {\n        offers: hotelsByCity(offers),\n        isLoading: offers.isLoading,\n        hasOffers: hasOffers(offers),\n        activeCity: offers.activeCity,\n        isError: offers.isError\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchOffers: bindActionCreators(fetchOffers, dispatch)\n    }\n}\n\nexport {CardListContainer};\nexport default connect(mapStateToProps, mapDispatchToProps)(CardListContainer);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nimport logo from './logo.svg';\n\nconst Header = ({isLoggedIn, email, isMain, isAuthStatusLoading, isAuthStatusError}) => {\n    const spanClassName = (isLoggedIn) ? `header__user-name user__name` : `header__login`;\n    let logoLink;\n    let mainLink;\n\n    if(isMain) {\n        logoLink = (\n            <a className=\"header__logo-link header__logo-link--active\">\n                <img className=\"header__logo\" src={logo} alt=\"6 cities logo\" width=\"81\" height=\"41\" />\n            </a>\n        );\n    } else {\n        logoLink = (\n            <Link to=\"/\" className=\"header__logo-link\" title=\"To the main page\">\n                <img className=\"header__logo\" src={logo} alt=\"6 cities logo\" width=\"81\"height=\"41\" />\n            </Link>\n        );\n    }    \n\n    if(isAuthStatusLoading) {\n        mainLink = <div>Authorization...</div>;\n    } else if(isAuthStatusError) {\n        mainLink = <div>Authorization failed. Please, reload the page and try again</div>;\n    } else {\n        mainLink = (\n            <Link to={(isLoggedIn) ? `/favorites` : `/login`}\n                title={(isLoggedIn) ? `To the favorites page` : `To the login page`}\n                className=\"header__nav-link header__nav-link--profile\"\n            >\n                <div className=\"header__avatar-wrapper user__avatar-wrapper\"></div>\n                <span className={spanClassName}>{(isLoggedIn) ? email : `Sign in`}</span>\n            </Link>\n        );\n    }\n\n    return (\n        <header className=\"header\">\n            <div className=\"container\">\n                <div className=\"header__wrapper\">\n                    <div className=\"header__left\">{logoLink}</div>\n                    <nav className=\"header__nav\">\n                        <ul className=\"header__nav-list\">\n                            <li className=\"header__nav-item user\">{mainLink}</li>\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        </header>\n    );\n}\n\nHeader.propTypes = {\n    isLoggedIn: PropTypes.bool.isRequired,\n    email: PropTypes.string,\n    isMain: PropTypes.bool.isRequired,\n    isAuthStatusError: PropTypes.bool.isRequired,\n    isAuthStatusLoading: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = ({auth: {isLoggedIn, email, isAuthStatusError, isAuthStatusLoading}}) => {\n    return {\n        isLoggedIn,\n        email,\n        isAuthStatusError,\n        isAuthStatusLoading\n    }\n}\n\nexport {Header};\nexport default connect(mapStateToProps, null)(Header);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport cn from 'classnames';\n\nimport {activeCityChange} from '../../actions/helpers.js';\nimport {citiesNames} from '../../selectors.js';\n\nconst Navigation = ({activeCity, navItemClickHandler, citiesNames}) => {\n    return (\n        <React.Fragment>\n            <h1 className=\"visually-hidden\">Cities</h1>\n            <div className=\"tabs\">\n                <section className=\"locations container\">\n                    <ul className=\"locations__list tabs__list\">\n                        {\n                            citiesNames.map((item) => {\n                                const className = cn(`locations__item-link tabs__item`,\n                                    {'tabs__item--active': item === activeCity});\n\n                                return (\n                                    <li key={item} className=\"locations__item\">\n                                        <a className={className} href=\"#\" id={item}\n                                            title={(item === activeCity) ? `` : `To the offers of ${item}`}\n                                            onClick={() => navItemClickHandler(item)}\n                                        >\n                                            <span>{item}</span>\n                                        </a>\n                                    </li>\n                                );\n                            })\n                        }\n                    </ul>\n                </section>\n            </div>\n        </React.Fragment>\n    )\n}\n\nNavigation.propTypes = {\n    activeCity: PropTypes.string,\n    navItemClickHandler: PropTypes.func.isRequired,\n    citiesNames: PropTypes.arrayOf(PropTypes.string)\n}\n\nconst mapStateToProps = ({offers}) => {\n    return {\n        activeCity: offers.activeCity,\n        citiesNames: citiesNames(offers)\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        navItemClickHandler: bindActionCreators(activeCityChange, dispatch)\n    }\n}\n\nexport {Navigation};\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\n","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport {sortBy} from '../../actions/helpers.js';\nimport {hotelsByCity} from '../../selectors.js';\n\nconst Filter = ({currentSorting, activeCity, offers, sortBy}) => {\n    const [isOpened, setIsOpened] = useState(false);\n\n    const sortOptionClickHandler = (title) => {\n        setIsOpened (false);\n        sortBy(title);\n    }\n\n    const optionsTitles = [`Popular`, `Price: low to high`, `Price: high to low`, `Top rated first`];\n\n    const optionsList = (\n        <ul className=\"places__options places__options--custom places__options--opened\">\n            {\n                optionsTitles.map((item) => {\n                    const className = cn(`places__option`, {'places__option--active': item === currentSorting});\n\n                    return (\n                        <li key={item} className={className} tabIndex=\"0\" onClick={() => sortOptionClickHandler(item)}>\n                            {item}\n                        </li>\n                    );\n                })\n            }\n        </ul>\n    );\n\n    return (\n        <React.Fragment>\n            <h2 className=\"visually-hidden\">Places</h2>\n            <b className=\"places__found\">{offers.length} places to stay in {activeCity}</b>\n            <form className=\"places__sorting\" action=\"#\" method=\"get\">\n                <span className=\"places__sorting-caption\">Sort by </span>\n                <span className=\"places__sorting-type\" tabIndex=\"0\" onClick={() => setIsOpened((isOpened) => !isOpened)}\n                    title={(isOpened) ? `Close the menu` : `Open the menu`}\n                >\n                    Popular\n                    <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n                        <use xlinkHref=\"#icon-arrow-select\"></use>\n                    </svg>\n                </span>\n                {(isOpened) ? optionsList : null}\n            </form>\n        </React.Fragment>\n    );\n}\n\nFilter.propTypes = {\n    sortBy: PropTypes.func.isRequired,\n    currentSorting: PropTypes.string.isRequired,\n    activeCity: PropTypes.string,\n    offers: PropTypes.arrayOf(PropTypes.object),\n}\n\nconst mapStateToProps = ({offers}) => {\n    return {\n        currentSorting: offers.currentSorting,\n        activeCity: offers.activeCity,\n        offers: hotelsByCity(offers),\n    };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        sortBy: bindActionCreators(sortBy, dispatch)\n    }\n}\n\nexport {Filter};\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\n","const getHotelsCoords = (hotels) => hotels.map((item) => [item.location.latitude, item.location.longitude]);\n\nexport default getHotelsCoords;\n","import React from 'react';\nimport leaflet from 'leaflet';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {withRouter} from 'react-router-dom';\nimport {compose} from 'redux';\n\nimport Spinner from '../spinner/spinner.jsx';\nimport {activeCityCoords, hotelsByCity} from '../../selectors.js';\nimport getHotelsCoords from '../../utils/getHotelsCoords.js';\n\nimport activeIcon from './pin-active.svg';\nimport icon from './pin.svg';\n\nclass Map extends React.PureComponent {\n    static propTypes = {\n        history: PropTypes.object.isRequired,\n        activeCityCoords: PropTypes.arrayOf(PropTypes.number),\n        activeCity: PropTypes.string,\n        focusedCard: PropTypes.number,\n        isLoading: PropTypes.bool.isRequired,\n        hotels: PropTypes.arrayOf(PropTypes.shape({\n            price: PropTypes.number.isRequired,\n            is_favorite: PropTypes.bool.isRequired,\n            is_premium: PropTypes.bool.isRequired,\n            rating: PropTypes.number.isRequired,\n            title: PropTypes.string.isRequired,\n            type: PropTypes.string.isRequired,\n            preview_image: PropTypes.string.isRequired,\n            id: PropTypes.number.isRequired\n        }))\n    }\n\n    lastFocusedHotel = null;\n\n    componentDidUpdate(prevProps) {\n        const {activeCityCoords, activeCity, hotels, focusedCard, isLoading, history} = this.props;\n\n        if(prevProps.activeCity === activeCity && prevProps.focusedCard === focusedCard) {\n            return;\n        }\n\n        if(isLoading) {\n            return;\n        }\n\n        if(this.map) {\n            this.map.remove();\n        }\n                        \n        const pin = leaflet.icon({\n            iconUrl: icon,\n            iconSize: [30, 30]\n        });\n\n        const activePin = leaflet.icon({\n            iconUrl: activeIcon,\n            iconSize: [30, 30]\n        });\n\n        const zoom = 13;\n\n        const map = leaflet.map(`map`, {\n            center: activeCityCoords,\n            zoom,\n            zoomControl: false,\n            marker: true\n        });\n\n        if(this.lastFocusedHotel) {\n            map.setView([this.lastFocusedHotel.location.latitude, this.lastFocusedHotel.location.longitude], zoom);\n        } else {\n            map.setView(activeCityCoords, zoom);\n        }\n  \n        leaflet.tileLayer(`https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`, { \n            attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>\n                contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\n            })\n            .addTo(map);\n\n        const hotelsCoords = getHotelsCoords(hotels);\n            \n        if(focusedCard) {\n            this.lastFocusedHotel = hotels.find((item) => item.id === focusedCard);\n        }\n        \n        hotelsCoords.forEach((coords, ind) => {\n            if(this.lastFocusedHotel && coords[0] === this.lastFocusedHotel.location.latitude\n                && coords[1] === this.lastFocusedHotel.location.longitude\n            ) {\n                map.setView(coords, zoom);\n\n                leaflet.marker(coords, {\n                    icon: activePin,\n                    title: this.lastFocusedHotel.title,\n                    zIndexOffset: 1\n                })\n                    .addTo(map)\n                    .addEventListener(`click`, () => history.push(`/offer/${this.lastFocusedHotel.id}`));\n            } else {\n                leaflet.marker(coords, {\n                    icon: pin,\n                    title: hotels[ind].title\n                })\n                    .addTo(map)\n                    .addEventListener(`click`, () => history.push(`/offer/${hotels[ind].id}`));\n            }\n        });\n\n        this.map = map;\n    }\n\n    render() {\n        const {isLoading} = this.props;\n\n        if(isLoading) {\n            return <Spinner />;\n        }\n\n        return (\n            <div className=\"cities__right-section\">\n                <section className=\"cities__map map\">\n                    <div id=\"map\" style={{width: `100%`, height: `100%`}}></div>\n                </section>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({offers, card}) => {\n    return {\n        activeCityCoords: activeCityCoords(offers),\n        isLoading: offers.isLoading,\n        activeCity: offers.activeCity,\n        hotels: hotelsByCity(offers),\n        focusedCard: card.focusedCard\n    }\n}\n\nexport {Map};\nexport default compose(connect(mapStateToProps, null), withRouter)(Map);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nimport CardListContainer from '../../cardListContainer/cardListContainer.jsx';\nimport Header from '../../header/header.jsx';\nimport Navigation from '../../navigation/navigation.jsx';\nimport Filter from '../../filter/filter.jsx';\nimport {hasOffers} from '../../../selectors.js';\nimport Map from '../../map/map.jsx';\n\nconst MainPage = ({hasOffers, isLoading}) => {\n    const divClassName = cn(`cities__places-container container`,\n        {'cities__places-container--empty': !isLoading && !hasOffers});\n\n    const sectionClassName = (!isLoading && !hasOffers)\n        ? `cities__no-places`\n        : `cities__places places`;        \n\n    return (\n        <div className=\"page page--gray page--main\">\n            <Header isMain={true} />\n            <main className=\"page__main page__main--index\">\n                <Navigation />\n                <div className=\"cities\">\n                    <div className={divClassName}>\n                        <section className={sectionClassName}>\n                            {(!hasOffers) ? null : <Filter />}\n                            \n                            <CardListContainer />\n                        </section>\n                        <Map />\n                    </div>\n                </div>\n            </main> \n        </div>\n    );\n}\n\nMainPage.propTypes = {\n    hasOffers: PropTypes.bool.isRequired,\n    isLoading: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = ({offers}) => {\n    return {\n        hasOffers: hasOffers(offers),\n        isLoading: offers.isLoading\n    };\n}\n\nexport {MainPage};\nexport default connect(mapStateToProps, null)(MainPage);\n","import {sendUserData, requestAuth} from '../api.js';\n\nconst SUCCESS_STATUS = 200;\nconst UNAUTHORIZED_STATUS = 401;\n\nconst authStatusRequest = () => {\n    return {\n        type: `AUTH_STATUS_REQUEST`\n    }\n}\n\nconst authStatusSuccess = (email) => {    \n    return {\n        type: `AUTH_STATUS_SUCCESS`,\n        payload: email\n    }\n}\n\nconst authStatusUnauthorized = () => {\n    return {\n        type: `AUTH_STATUS_UNAUTHORIZED`\n    }\n}\n\nconst authStatusFail = () => {\n    return {\n        type: `AUTH_STATUS_FAIL`\n    }\n}\n\nconst fetchAuthStatus = () => (dispatch) => {\n    dispatch(authStatusRequest());\n\n    requestAuth()\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {\n                dispatch(authStatusSuccess(res.data.email));\n            }\n        })\n        .catch((err) => {\n            if(err.response.status === UNAUTHORIZED_STATUS) {\n                dispatch(authStatusUnauthorized());\n            } else {\n                dispatch(authStatusFail());\n            }\n        })\n}\n\nconst fetchAuthRequest = () => {    \n    return {\n        type: `FETCH_AUTH_REQUEST`\n    };\n}\n\nconst fetchAuthSuccess = (email) => {\n    return {\n        type: `FETCH_AUTH_SUCCESS`,\n        payload: email\n    };\n}\n\nconst fetchAuthFail = () => {\n    return {\n        type: `FETCH_AUTH_FAIL`\n    };\n}\n\nconst fetchAuth = (userData) => (dispatch) => {\n    dispatch(fetchAuthRequest());\n    \n    sendUserData(userData)\n        .then((res) => {    \n            if(res.status === SUCCESS_STATUS) {\n                dispatch(fetchAuthSuccess(res.data.email));\n            }\n        })\n        .catch(() => dispatch(fetchAuthFail()))\n}\n\nexport {fetchAuth, fetchAuthStatus};\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\n\nconst Login = ({onSubmit}) => {\n    const [emailVal, setEmailVal] = useState(``);\n    const [passwordVal, setPasswordVal] = useState(``);\n\n    return (\n        <main className=\"page__main page__main--login\">\n            <div className=\"page__login-container container\">\n                <section className=\"login\">\n                    <h1 className=\"login__title\">Sign in</h1>\n                    <form className=\"login__form form\" action=\"#\" method=\"post\"\n                        onSubmit={(evt) => onSubmit(evt, emailVal, passwordVal)}\n                    >\n                        <div className=\"login__input-wrapper form__input-wrapper\">\n                            <label className=\"visually-hidden\">E-mail</label>\n                            <input className=\"login__input form__input\" type=\"email\" name=\"email\"\n                                placeholder=\"Email\" value={emailVal}\n                                onChange={(evt) => setEmailVal(evt.target.value)} required\n                            />\n                        </div>\n                        <div className=\"login__input-wrapper form__input-wrapper\">\n                            <label className=\"visually-hidden\">Password</label>\n                            <input className=\"login__input form__input\" type=\"password\" name=\"password\"\n                                placeholder=\"Password\" value={passwordVal}\n                                onChange={(evt) => setPasswordVal(evt.target.value)} required\n                            />\n                        </div>\n                        <button className=\"login__submit form__submit button\" type=\"submit\">Sign in</button>\n                    </form>\n                </section>\n                <section className=\"locations locations--login locations--current\">\n                    <div className=\"locations__item\">\n                        <a className=\"locations__item-link\" href=\"#\">\n                            <span>Amsterdam</span>\n                        </a>\n                    </div>\n                </section>\n            </div>\n        </main>\n    );\n}\n\nLogin.propTypes = {\n    onSubmit: PropTypes.func.isRequired\n}\n\nexport default Login;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {Redirect} from 'react-router-dom';\n\nimport Header from '../../header/header.jsx';\nimport {fetchAuth} from '../../../actions/auth.js';\nimport Spinner from '../../spinner/spinner.jsx';\nimport Login from '../../login/login.jsx';\nimport ErrorIndicator from '../../errorIndicator/errorIndicator.jsx';\n\nconst LoginPage = ({isLoggedIn, isAuthLoading, fetchAuth, isAuthError}) => {\n    const formSubmitHandler = (evt, email, password) => {\n        evt.preventDefault();\n\n        fetchAuth({\n            email,\n            password\n        });\n    }\n\n    if(isLoggedIn) {\n        return <Redirect to=\"/\" />;\n    }\n\n    if(isAuthLoading) {\n        return <Spinner />;\n    }\n\n    if(isAuthError) {\n        return <ErrorIndicator operation=\"user's authorization\" />;\n    }\n\n    return (\n        <div className=\"page page--gray page--login\">\n            <Header isMain={false} />\n\n            <Login onSubmit={formSubmitHandler} />\n        </div>\n    );\n}\n\nLoginPage.propTypes = {\n    fetchAuth: PropTypes.func.isRequired,\n    isLoggedIn: PropTypes.bool.isRequired,\n    isAuthLoading: PropTypes.bool.isRequired,\n    isAuthError: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = ({auth: {isLoggedIn, isAuthLoading, isAuthError}}) => {\n    return {\n        isLoggedIn,\n        isAuthLoading,\n        isAuthError\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchAuth: ({email, password}) => dispatch(fetchAuth({email, password}))\n    } \n}\n\nexport {LoginPage};\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\n","import {getFavorites, setFavorite} from '../api.js';\n\nconst SUCCESS_STATUS = 200;\n\nconst fetchFavoritesRequest = () => {\n    return {\n        type: `FETCH_FAVORITES_REQUEST`\n    }\n}\n\nconst fetchFavoritesSuccess = (favorites) => {\n    return {\n        type: `FETCH_FAVORITES_SUCCESS`,\n        payload: favorites\n    }\n}\n\nconst fetchFavoritesFail = () => {\n    return {\n        type: `FETCH_FAVORITES_FAIL`\n    }\n}\n\nconst fetchFavorites = () => (dispatch) => {\n    dispatch(fetchFavoritesRequest());\n\n    getFavorites()\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {\n                dispatch(fetchFavoritesSuccess(res.data));\n            }\n        })\n        .catch(() => dispatch(fetchFavoritesFail()))\n}\n\nconst fetchFavoriteRequest = () => {\n    return {\n        type: `FETCH_FAVORITE_REQUEST`\n    }\n}\n\nconst fetchFavoriteSuccess = (id) => {  \n    return {\n        type: `FETCH_FAVORITE_SUCCESS`,\n        payload: id\n    }\n}\n\nconst fetchFavoriteFail = (id) => {  \n    return {\n        type: `FETCH_FAVORITE_FAIL`,\n        payload: id\n    }\n}\n\nconst fetchFavorite = (id, isFavorite) => (dispatch) => {\n    dispatch(fetchFavoriteRequest());\n\n    setFavorite(id, isFavorite)\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {\n                dispatch(fetchFavoriteSuccess(res.data.id));\n            }\n        })\n        .catch(() => dispatch(fetchFavoriteFail()))\n}\n\nexport {fetchFavorites, fetchFavorite};\n","import React  from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '../card/card.jsx';\n\nconst FavoritesList = ({favorites}) => {\n    const favoriteCities = Array.from(new Set(favorites.map((item) => item.city.name)))\n        .sort();    \n\n    return (\n        <main className=\"page__main page__main--favorites\">\n            <div className=\"page__favorites-container container\">\n                <section className=\"favorites\">\n                    <h1 className=\"favorites__title\">Saved listing</h1>\n                    <ul className=\"favorites__list\">\n                        {\n                            favoriteCities.map((item) => {\n                                const hotels = favorites.filter((hotel) => hotel.city.name === item)\n                                    .map((elem) => {\n                                        return (\n                                             <Card key={elem.id} offer={elem} isNearby={false} isMain={false}\n                                                isFavPage={true}\n                                            />\n                                        );\n                                });\n\n                                return (\n                                    <li key={item} className=\"favorites__locations-items\">\n                                        <div className=\"favorites__locations locations locations--current\">\n                                            <div className=\"locations__item\">\n                                                <a className=\"locations__item-link\" href=\"#\">\n                                                    <span>{item}</span>\n                                                </a>\n                                            </div>\n                                        </div>\n                                        <div className=\"favorites__places\">{hotels}</div>\n                                    </li>\n                                );\n                            })\n                        }\n                    </ul>\n                </section>\n            </div>\n        </main>\n    );\n}\n\nFavoritesList.propTypes = {\n    favorites: PropTypes.arrayOf(PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    }))\n}\n\nexport default FavoritesList;\n","import React  from 'react';\n\nconst FavoritesListEmpty = () => {\n    return (\n        <main className=\"page__main page__main--favorites page__main--favorites-empty\">\n            <div className=\"page__favorites-container container\">\n                <section className=\"favorites favorites--empty\">\n                    <h1 className=\"visually-hidden\">Favorites (empty)</h1>\n                    <div className=\"favorites__status-wrapper\">\n                        <b className=\"favorites__status\">Nothing yet saved.</b>\n                        <p className=\"favorites__status-description\">\n                            Save properties to narrow down search or plan yor future trips.\n                        </p>\n                    </div>\n                </section>\n            </div>\n        </main>\n    );\n}\n\nexport default FavoritesListEmpty;\n","import React, {useEffect}  from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\nimport {Link, Redirect} from 'react-router-dom';\nimport cn from 'classnames';\n\nimport {fetchFavorites} from '../../../actions/favorites.js';\nimport Spinner from '../../spinner/spinner.jsx';\nimport Header from '../../header/header.jsx';\nimport FavoritesList from '../../favoritesList/favoritesList.jsx';\nimport FavoritesListEmpty from '../../favoritesListEmpty/favoritesListEmpty.jsx';\nimport ErrorIndicator from '../../errorIndicator/errorIndicator.jsx';\n\nimport logo from './logo.svg';\n\nconst FavoritesPage = ({favorites, isFavoritesLoading, isFavoritesError, isLoggedIn, fetchFavorites}) => {\n    useEffect(() => {\n        fetchFavorites();\n    }, [fetchFavorites]);\n\n    if(!isLoggedIn) {\n        return <Redirect to=\"/login\" />;\n    }\n\n    if(isFavoritesLoading) {\n        return <Spinner />;\n    }\n\n    if(isFavoritesError) {\n        return <ErrorIndicator operation=\"loading of the list of favorite offers\" />;\n    }\n\n    const divClassName = cn(`page`, {'page--favorites-empty': !favorites.length});\n\n    return (\n        <div className={divClassName}>\n            <Header isMain={false} />\n\n            {(favorites.length) ? <FavoritesList favorites={favorites} /> : <FavoritesListEmpty />}\n            \n            <footer className=\"footer\">\n                <Link to=\"/\" className=\"footer__logo-link\" title=\"To the main page\">\n                    <img className=\"footer__logo\" src={logo} alt=\"6 cities logo\" width=\"64\" height=\"33\" />\n                </Link>\n            </footer>\n        </div>\n    );\n}\n\nFavoritesPage.propTypes = {\n    favorites: PropTypes.array,\n    fetchFavorites: PropTypes.func.isRequired,\n    isFavoritesLoading: PropTypes.bool.isRequired,\n    isFavoritesError: PropTypes.bool.isRequired,\n    isLoggedIn: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = ({favorites: {favorites, isFavoritesLoading, isFavoritesError}, auth: {isLoggedIn}}) => {\n    return {\n        favorites,\n        isFavoritesLoading, \n        isFavoritesError,\n        isLoggedIn\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchFavorites: bindActionCreators(fetchFavorites, dispatch)\n    }\n}\n\nexport {FavoritesPage};\nexport default connect(mapStateToProps, mapDispatchToProps)(FavoritesPage);\n","import {getReviews, sendUserReview} from '../api.js';\n\nconst SUCCESS_STATUS = 200;\n\nconst fetchReviewsRequest = () => {\n    return {\n        type: `FETCH_REVIEWS_REQUEST`\n    }\n}\n\nconst fetchReviewsSuccess = (reviews) => {\n    return {\n        type: `FETCH_REVIEWS_SUCCESS`,\n        payload: reviews\n    }\n}\n\nconst fetchReviewsFail = () => {\n    return {\n        type: `FETCH_REVIEWS_FAIL`\n    }\n}\n\nconst fetchReviews = (id) => (dispatch) => {\n    dispatch(fetchReviewsRequest());\n\n    getReviews(id)\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {\n                dispatch(fetchReviewsSuccess(res.data));\n            }\n        })\n        .catch(() => dispatch(fetchReviewsFail()))\n}\n\nconst fetchReviewRequest = () => {\n    return {\n        type: `FETCH_REVIEW_REQUEST`\n    }\n}\n\nconst fetchReviewSuccess = () => {\n    return {\n        type: `FETCH_REVIEW_SUCCESS`\n    }\n}\n\nconst fetchReviewFail = () => {\n    return {\n        type: `FETCH_REVIEW_FAIL`\n    }\n}\n\nconst resetReviewError = () => {\n    return {\n        type: `RESET_REVIEW_ERROR`\n    }\n}\n\nconst fetchReview = (review, id) => (dispatch) => {\n    dispatch(fetchReviewRequest());    \n\n    sendUserReview(review, id)\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {                                \n                dispatch(fetchReviewSuccess());\n                dispatch(fetchReviews(id));\n            }\n        })\n        .catch(() => dispatch(fetchReviewFail()));\n}\n\nexport {fetchReviews, fetchReview, resetReviewError};\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\n\nconst Form = ({onSubmit}) => {\n    const [commentValue, setCommentValue] = useState(``);\n    const [ratingValue, setRatingValue] = useState(``);\n\n    const titles = [`perfect`, `good`, `not bad`, `badly`, `terribly`];\n    const MIN_REVIEW_LENGTH = 50;\n    const MAX_REVIEW_LENGTH = 300;\n    const isDisabled = !(commentValue.length >= MIN_REVIEW_LENGTH && commentValue.length <= MAX_REVIEW_LENGTH)\n        || !ratingValue;\n\n    return (\n        <form className=\"reviews__form form\" action=\"#\" method=\"post\"\n            onSubmit={(evt) => onSubmit(evt, ratingValue, commentValue)}\n        >\n            <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n            <div className=\"reviews__rating-form form__rating\">\n                {\n                    titles.map((item, ind) => {\n                        return (\n                            <React.Fragment key={item}>\n                                <input className=\"form__rating-input visually-hidden\" name=\"rating\" value={5 - ind} \n                                    id={`${5 - ind}-stars`} type=\"radio\"\n                                    onChange={(evt) => setRatingValue(evt.target.value)}\n                                />\n                                <label htmlFor={`${5 - ind}-stars`} className=\"reviews__rating-label form__rating-label\"\n                                    title={item}\n                                >\n                                    <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                                        <use xlinkHref=\"#icon-star\"></use>\n                                    </svg>\n                                </label>\n                            </React.Fragment>\n                        );\n                    })\n                }\n            </div>\n            <textarea className=\"reviews__textarea form__textarea\" id=\"review\" name=\"review\"\n                onChange={(evt) => setCommentValue(evt.target.value)} value={commentValue}\n                placeholder=\"Tell how was your stay, what you like and what can be improved\"></textarea>\n            <div className=\"reviews__button-wrapper\">\n                <p className=\"reviews__help\">\n                    To submit review please make sure to set <span className=\"reviews__star\">rating</span> and\n                    describe your stay with at least <b className=\"reviews__text-amount\">50 characters</b>.\n                </p>\n                <button className=\"reviews__submit form__submit button\" type=\"submit\" title=\"Submit review\"\n                    disabled={isDisabled}\n                >\n                    Submit\n                </button>\n            </div>\n        </form>\n    );\n}\n\nForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired\n}\n\nexport default Form;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\n\nimport {fetchReview, resetReviewError} from '../../actions/reviews.js';\nimport Spinner from '../spinner/spinner.jsx';\nimport {hasUserReview} from '../../selectors.js';\nimport Form from '../form/form.jsx';\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\n\nconst FormContainer = ({isLoggedIn, fetchReview, id, isReviewLoading, isReviewError, hasUserReview,\n    resetReviewError}\n) => {\n    useEffect(() => {        \n        resetReviewError();\n    }, [id, resetReviewError]);\n\n    if(!isLoggedIn || hasUserReview) {        \n        return null;\n    }\n\n    if(isReviewLoading) {\n        return <Spinner />;\n    }\n\n    if(isReviewError) {\n        return <ErrorIndicator operation=\"uploading of your review\" />;\n    }\n\n    const formSubmitHandler = (evt, rating, comment) => {\n        evt.preventDefault();\n\n        const userData = {\n            rating,\n            comment\n        }\n        \n        fetchReview(userData, id);\n    }\n    \n    return <Form onSubmit={formSubmitHandler} />;\n}\n\nFormContainer.propTypes = {\n    isLoggedIn: PropTypes.bool.isRequired,\n    fetchReview: PropTypes.func.isRequired,\n    id: PropTypes.number.isRequired,\n    isReviewLoading: PropTypes.bool.isRequired,\n    isReviewError: PropTypes.bool.isRequired,\n    hasUserReview: PropTypes.bool.isRequired,\n    resetReviewError: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = ({auth: {isLoggedIn, email}, reviews:{isReviewLoading, isReviewError, reviews}}) => {\n    return {\n        isLoggedIn,\n        isReviewLoading,\n        isReviewError,\n        hasUserReview: hasUserReview(email, reviews, isLoggedIn)\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchReview: bindActionCreators(fetchReview, dispatch),\n        resetReviewError: bindActionCreators(resetReviewError, dispatch)\n    }\n}\n\nexport {FormContainer};\nexport default connect(mapStateToProps, mapDispatchToProps)(FormContainer);\n","const mapMonthToNubmer = (number) => {\n    const MONTHS = [`January`, `February`, `March`, `April`, `May`, `June`, `July`, `August`, `September`,\n        `October`, `November`, `December`];\n\n    return MONTHS[number];\n}\n\nexport default mapMonthToNubmer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport mapMonthToNubmer from '../../utils/mapMonthToNumber.js';\n\nconst Reviews = ({reviews}) => {    \n    return (\n        reviews.slice(0, 10)\n            .sort((a, b) => Date.parse(b.date) - Date.parse(a.date))\n            .map((item) => {\n                const {id, user, rating, comment, date} = item;\n                const dateObj = new Date(Date.parse(date));\n                const month = dateObj.getMonth();\n                const year = dateObj.getFullYear();\n\n                return (\n                    <li key={id} className=\"reviews__item\">\n                        <div className=\"reviews__user user\">\n                            <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n                                <img className=\"reviews__avatar user__avatar\" src={user.avatar_url}\n                                    width=\"54\" height=\"54\" alt=\"Reviews avatar\"\n                                />\n                            </div>\n                            <span className=\"reviews__user-name\">{user.name}</span>\n                        </div>\n                        <div className=\"reviews__info\">\n                            <div className=\"reviews__rating rating\">\n                                <div className=\"reviews__stars rating__stars\">\n                                    <span style={{width: `${20 * rating}%`}}></span>\n                                    <span className=\"visually-hidden\">Rating</span>\n                                </div>\n                            </div>\n                            <p className=\"reviews__text\">{comment}</p>\n                            <time className=\"reviews__time\" dateTime={`${year}-${month + 1}-${dateObj.getDate()}`}>\n                                {`${mapMonthToNubmer(month)} ${year}`}\n                            </time>\n                        </div>\n                    </li>\n                );\n            })\n    );\n}\n\nReviews.propTypes = {\n    reviews: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        user: PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            is_pro: PropTypes.bool.isRequired,\n            name: PropTypes.string.isRequired,\n            avatar_url: PropTypes.string.isRequired\n        }),\n        rating: PropTypes.number.isRequired,\n        comment: PropTypes.string.isRequired,\n        date: PropTypes.string.isRequired\n    }))\n}\n\nexport default Reviews;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\n\nimport {fetchReviews} from '../../actions/reviews.js';\nimport Spinner from '../spinner/spinner.jsx';\nimport FormContainer from '../formContainer/formContainer.jsx';\nimport Reviews from '../reviews/reviews.jsx';\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\n\nconst ReviewsContainer = ({reviews, isReviewsLoading, isReviewsError, id, fetchReviews}) => {\n    useEffect(() => {\n        fetchReviews(id);\n    }, [fetchReviews, id]);\n    \n    if(isReviewsLoading) {\n        return <Spinner />;\n    } \n    if(isReviewsError) {\n        return <ErrorIndicator operation=\"loading of the list of reviews\" />;\n    }\n\n    return (\n        <section className=\"property__reviews reviews\">\n            <h2 className=\"reviews__title\">\n                Reviews &middot; <span className=\"reviews__amount\">{reviews.length}</span>\n            </h2>\n            <ul className=\"reviews__list\">\n                <Reviews reviews={reviews} />\n\n                <FormContainer id={id} />\n            </ul>\n        </section>\n    );\n}\n\nReviewsContainer.propTypes = {\n    id: PropTypes.number.isRequired,\n    fetchReviews: PropTypes.func.isRequired,\n    isReviewsError: PropTypes.bool.isRequired,\n    isReviewsLoading: PropTypes.bool.isRequired,\n    reviews: PropTypes.arrayOf(PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        user: PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            is_pro: PropTypes.bool.isRequired,\n            name: PropTypes.string.isRequired,\n            avatar_url: PropTypes.string.isRequired\n        }),\n        rating: PropTypes.number.isRequired,\n        comment: PropTypes.string.isRequired,\n        date: PropTypes.string.isRequired\n    }))\n}\n\nconst mapStateToProps = ({reviews: {isReviewsError, isReviewsLoading, reviews}}) => {\n    return {\n        isReviewsError,\n        isReviewsLoading,\n        reviews\n    }\n}\n\nconst mapDispatchToProps= (dispatch) => {\n    return {\n        fetchReviews: bindActionCreators(fetchReviews, dispatch)\n    }\n}\n\nexport {ReviewsContainer};\nexport default connect(mapStateToProps, mapDispatchToProps)(ReviewsContainer);\n","import React, {useEffect} from 'react';\nimport leaflet from 'leaflet';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {withRouter} from 'react-router-dom';\nimport {compose} from 'redux';\n\nimport getHotelsCoords from '../../utils/getHotelsCoords.js';\n\nimport activeIcon from './pin-active.svg';\nimport icon from './pin.svg';\n\nconst ReviewsMap = ({offer, nearbyHotels, focusedCard, history}) => {\n    useEffect(() => {\n        const offerCoords = [offer.location.latitude, offer.location.longitude];\n\n        const activePin = leaflet.icon({\n            iconUrl: activeIcon,\n            iconSize: [30, 30]\n        });\n\n        const pin = leaflet.icon({\n            iconUrl: icon,\n            iconSize: [30, 30]\n        });\n\n        const zoom = 13;\n\n        const map = leaflet.map(`reviewsMap`, {\n            center: offerCoords,\n            zoom,\n            zoomControl: false,\n            marker: true\n        });\n\n        leaflet.tileLayer(`https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`, { \n            attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>\n                contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\n            })\n                .addTo(map);\n\n        let focusedHotel = null;\n\n        if(focusedCard) {\n            focusedHotel = nearbyHotels.find((item) => item.id === focusedCard);\n\n            leaflet.marker(offerCoords, {\n                icon: pin\n            })\n                .addTo(map);\n        } else {\n            map.setView(offerCoords, zoom);            \n\n            leaflet.marker(offerCoords, {\n                icon: activePin,\n                title: offer.title,\n                zIndexOffset: 1\n            })\n                .addTo(map);\n        }\n\n        const nearbyHotelsCoords = getHotelsCoords(nearbyHotels);\n\n        nearbyHotelsCoords.forEach((coords, ind) => {\n            if(focusedHotel && coords[0] === focusedHotel.location.latitude\n                && coords[1] === focusedHotel.location.longitude\n            ) {\n                map.setView(coords, zoom);\n\n                leaflet.marker(coords, {\n                    icon: activePin,\n                    zIndexOffset: 1\n                })\n                    .addTo(map);\n            } else {\n                leaflet.marker(coords, {\n                    icon: pin,\n                    title: nearbyHotels[ind].title\n                })\n                    .addTo(map)\n                    .addEventListener(`click`, () => history.push(`/offer/${nearbyHotels[ind].id}`));\n            }\n        });\n\n        return () => map.remove();\n    }, [offer, nearbyHotels, focusedCard, history]);\n\n    return (\n        <section className=\"property__map map\">\n            <div id=\"reviewsMap\" style={{width: `100%`, height: `100%`}}></div>\n        </section>\n    );\n}\n\nReviewsMap.propTypes = {\n    offer: PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    }),\n    focusedCard: PropTypes.number,\n    history: PropTypes.object.isRequired,\n    nearbyHotels: PropTypes.arrayOf(PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    }))\n}\n\nconst mapStateToProps = ({nearby: {nearbyHotels}, card: {focusedCard}}) => {\n    return {\n        nearbyHotels,\n        focusedCard\n    }\n}\n\nexport {ReviewsMap};\nexport default compose(connect(mapStateToProps, null), withRouter)(ReviewsMap);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport cn from 'classnames';\n\nimport ReviewsContainer from '../reviewsContainer/reviewsContainer.jsx';\nimport ReviewsMap from '../reviewsMap/reviewsMap.jsx';\nimport {fetchFavorite} from '../../actions/favorites.js';\n\nimport maleAvarar from './avatar-max.jpg';\nimport femaleAvatar from './avatar-angelina.jpg';\n\nconst Offer = ({offer, fetchFavorite, isLoggedIn, history, isFavoriteError, isFavoriteLoading}) => {\n    const {images, is_premium: isPremium, title, is_favorite: isFavorite, rating, max_adults: maxAdults, type, bedrooms,\n            price, goods, id, host, description\n        } = offer;\n    const divClassName = cn(`property__avatar-wrapper user__avatar-wrapper`,\n        {'property__avatar-wrapper--pro': host.is_pro});\n    const btnClassName = cn(`property__bookmark-button button` , {'property__bookmark-button--active': isFavorite});\n\n    const buttonClickHandler = () => {\n        if(!isLoggedIn) {\n            history.push(`/login`);\n        } else {\n            fetchFavorite(id, isFavorite);\n        }\n    }\n    \n    const avatarsByUrl = {\n        'img/avatar-angelina.jpg': femaleAvatar,\n        'img/avatar-max.jpg': maleAvarar\n    }\n\n    let btnContent;\n\n    if(isFavoriteLoading) {\n        btnContent = <div>...</div>;\n    }\n     else if(isFavoriteError) {\n        btnContent = <div>Fail</div>;\n    } else {\n        btnContent = (\n            <React.Fragment>\n                <svg className=\"property__bookmark-icon\" width=\"31\" height=\"33\">\n                    <use xlinkHref={(isFavorite) ? `#icon-bookmark-active` : `#icon-bookmark`}></use>\n                </svg>\n                <span className=\"visually-hidden\">{(isFavorite) ? `In bookmarks` : `To bookmarks`}</span>\n            </React.Fragment>\n        );\n    }\n\n    return (\n        <section className=\"property\">\n            <div className=\"property__gallery-container container\">\n                <div className=\"property__gallery\">\n                    {\n                        images.slice(0, 6)\n                            .map((src) => {\n                                return (\n                                    <div key={src} className=\"property__image-wrapper\">\n                                        <img className=\"property__image\" src={src} alt=\"Studio\" />\n                                    </div>\n                                );\n                            })\n                    }\n                </div>\n            </div>\n            <div className=\"property__container container\">\n                <div className=\"property__wrapper\">\n                    {(isPremium) ? <div className=\"property__mark\"><span>Premium</span></div> : null}\n\n                    <div className=\"property__name-wrapper\">\n                        <h1 className=\"property__name\">{title}</h1>\n                        <button className={btnClassName} type=\"button\" onClick={buttonClickHandler}\n                            title={(isFavorite) ? `Remove from bookmarks` : `Add to bookmarks`}\n                        >\n                            {btnContent}\n                        </button>\n                    </div>\n                    <div className=\"property__rating rating\">\n                        <div className=\"property__stars rating__stars\">\n                            <span style={{width: `${20 * rating}%`}}></span>\n                            <span className=\"visually-hidden\">Rating</span>\n                        </div>\n                        <span className=\"property__rating-value rating__value\">{rating}</span>\n                    </div>\n                    <ul className=\"property__features\">\n                        <li className=\"property__feature property__feature--entire\">{type}</li>\n                        <li className=\"property__feature property__feature--bedrooms\">{bedrooms} Bedrooms</li>\n                        <li className=\"property__feature property__feature--adults\">Max {maxAdults} adults</li>\n                    </ul>\n                    <div className=\"property__price\">\n                        <b className=\"property__price-value\">&euro;{price}</b>\n                        <span className=\"property__price-text\">&nbsp;night</span>\n                    </div>\n                    <div className=\"property__inside\">\n                        <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n                        <ul className=\"property__inside-list\">\n                            {\n                                goods.map((item) => {\n                                    return (\n                                        <li key={item} className=\"property__inside-item\">{item}</li>\n                                    );\n                                })\n                            }\n                        </ul>\n                    </div>\n                    <div className=\"property__host\">\n                        <h2 className=\"property__host-title\">Meet the host</h2>\n                        <div className=\"property__host-user user\">\n                            <div className={divClassName}>\n                                <img className=\"property__avatar user__avatar\" src={avatarsByUrl[host.avatar_url]}\n                                    width=\"74\" height=\"74\" alt=\"Host avatar\"\n                                />\n                            </div>\n                            <span className=\"property__user-name\">{host.name}</span>\n                        </div>\n                        <div className=\"property__description\">\n                            <p className=\"property__text\">{description}</p>\n                        </div>\n                    </div>\n                    \n                    <ReviewsContainer id={id} />\n                </div>\n            </div>\n            <ReviewsMap offer={offer} />\n        </section>\n    );\n}\n\nOffer.propTypes = {\n    fetchFavorite: PropTypes.func.isRequired,\n    isLoggedIn: PropTypes.bool.isRequired,\n    history: PropTypes.object.isRequired,\n    isFavoriteError: PropTypes.bool.isRequired,\n    isFavoriteLoading: PropTypes.bool.isRequired,\n    offer: PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.oneOf([`room`, `house`, `hotel`, `apartment`]).isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired,\n        images: PropTypes.arrayOf(PropTypes.string).isRequired,\n        bedrooms: PropTypes.number.isRequired,\n        max_adults: PropTypes.number.isRequired,\n        goods: PropTypes.arrayOf(PropTypes.string).isRequired,\n        host: PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            is_pro: PropTypes.bool.isRequired,\n            name: PropTypes.string.isRequired,\n            avatar_url: PropTypes.string.isRequired\n        }),\n        description: PropTypes.string.isRequired,\n        location: PropTypes.shape({\n            latitude: PropTypes.number.isRequired,\n            longitude: PropTypes.number.isRequired,\n            zoom: PropTypes.number.isRequired\n        })\n    })\n}\n\nconst mapStateToProps = ({auth: {isLoggedIn}, offers: {isFavoriteError, isFavoriteLoading}}) => {\n    return {\n        isLoggedIn,\n        isFavoriteError,\n        isFavoriteLoading\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchFavorite: bindActionCreators(fetchFavorite, dispatch)\n    }\n}\n\nexport {Offer};\nexport default connect(mapStateToProps, mapDispatchToProps)(Offer);\n","import {getNearbyHotels} from '../api.js';\n\nconst SUCCESS_STATUS = 200;\n\nconst fetchNearbyRequest = () => {\n    return {\n        type: `FETCH_NEARBY_REQUEST`\n    };\n}\n\nconst fetchNearbySuccess = (nearbyHotels) => {\n    return {\n        type: `FETCH_NEARBY_SUCCESS`,\n        payload: nearbyHotels\n    };\n}\n\nconst fetchNearbyFail = () => {\n    return {\n        type: `FETCH_NEARBY_FAIL`\n    };\n}\n\nconst fetchNearbyHotels = (id) => (dispatch) => {\n    dispatch(fetchNearbyRequest());\n\n    getNearbyHotels(id)\n        .then((res) => {\n            if(res.status === SUCCESS_STATUS) {                \n                dispatch(fetchNearbySuccess(res.data));\n            }\n        })\n        .catch(() => dispatch(fetchNearbyFail()))\n}\n\nexport default fetchNearbyHotels;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Card from '../card/card.jsx';\n\nconst NearbyHotels = ({hotels}) => {\n     return (\n        <div className=\"container\">\n            <section className=\"near-places places\">\n                <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n                <div className=\"near-places__list places__list\">\n                    {\n                        hotels.map((item) => {\n                            return (\n                                <Card key={item.id} offer={item} isNearby={true} isMain={false} isFavPage={false} />\n                            );\n                        })\n                    }\n                </div>\n            </section>\n        </div>\n    );\n}\n\nNearbyHotels.propTypes = {\n    hotels: PropTypes.arrayOf(PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired\n    }))\n}\n\nexport default NearbyHotels;\n","import React, {useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {bindActionCreators} from 'redux';\n\nimport fetchNearbyHotels from '../../actions/nearby.js';\nimport Spinner from '../spinner/spinner.jsx';\nimport NearbyHotels from '../nearbyHotels/nearbyHotels.jsx';\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\n\nconst NearbyHotelsContainer = ({nearbyHotels, isNearbyError, isNearbyLoading, id, fetchNearbyHotels}) => {\n    useEffect(() => {\n        fetchNearbyHotels(id);\n    }, [fetchNearbyHotels, id]);\n\n    if(isNearbyLoading) {\n        return <Spinner />;\n    }\n\n    if(isNearbyError) {\n        return <ErrorIndicator operation=\"loading the list of nearby offers\" />; \n    }\n\n    return <NearbyHotels hotels={nearbyHotels} />;\n}\n\nNearbyHotelsContainer.propTypes = {\n    id: PropTypes.number.isRequired,\n    isNearbyError: PropTypes.bool.isRequired,\n    isNearbyLoading: PropTypes.bool.isRequired,\n    fetchNearbyHotels: PropTypes.func.isRequired\n}\n\nconst mapStateToProps = ({nearby: {nearbyHotels, isNearbyError, isNearbyLoading}}) => {\n    return {\n        nearbyHotels,\n        isNearbyError,\n        isNearbyLoading\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchNearbyHotels: bindActionCreators(fetchNearbyHotels, dispatch)\n    }\n}\n\nexport {NearbyHotelsContainer};\nexport default connect(mapStateToProps, mapDispatchToProps)(NearbyHotelsContainer);\n","import React, {useEffect} from 'react';\nimport {withRouter, Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {compose, bindActionCreators} from 'redux';\nimport PropTypes from 'prop-types';\n\nimport Header from '../../header/header.jsx';\nimport Offer from '../../offer/offer.jsx';\nimport Spinner from '../../spinner/spinner.jsx';\nimport NearbyHotelsContainer from '../../nearbyHotelsContainer/nearbyHotelsContainer.jsx';\nimport fetchOffers from '../../../actions/offers.js';\nimport ErrorIndicator from '../../errorIndicator/errorIndicator.jsx';\n\nconst OfferPage = ({match, offers, isLoading, history, fetchOffers, isError}) => {   \n    useEffect(() => {\n        fetchOffers();\n    }, [fetchOffers]);\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, [match.params.id]);\n\n    if(isLoading) {\n        return (\n            <div className=\"page\">\n                <Header isMain={false} />\n                <Spinner />\n            </div>\n        );\n    }\n\n    if(isError) {\n        return (\n            <div className=\"page\">\n                <Header isMain={false} />\n                <ErrorIndicator operation=\"loading of this offer\" />\n            </div>\n        );\n    }   \n\n    const offer = offers.find((item) => item.id === +match.params.id);\n    \n    if(!offer) {\n        return <Redirect to=\"/\" />;\n    }\n    \n    return (\n        <div className=\"page\">\n            <Header isMain={false} />\n            <Offer offer={offer} history={history} />\n            <NearbyHotelsContainer id={offer.id} />\n        </div>\n    );\n}\n\nOfferPage.propTypes = {\n    offers: PropTypes.arrayOf(PropTypes.shape({\n        price: PropTypes.number.isRequired,\n        is_favorite: PropTypes.bool.isRequired,\n        is_premium: PropTypes.bool.isRequired,\n        rating: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        type: PropTypes.oneOf([`room`, `house`, `hotel`, `apartment`]).isRequired,\n        preview_image: PropTypes.string.isRequired,\n        id: PropTypes.number.isRequired,\n        images: PropTypes.arrayOf(PropTypes.string).isRequired,\n        bedrooms: PropTypes.number.isRequired,\n        max_adults: PropTypes.number.isRequired,\n        goods: PropTypes.arrayOf(PropTypes.string).isRequired,\n        host: PropTypes.object.isRequired,\n        description: PropTypes.string.isRequired,\n        location: PropTypes.shape({\n            latitude: PropTypes.number.isRequired,\n            longitude: PropTypes.number.isRequired,\n            zoom: PropTypes.number.isRequired\n        })\n    })),\n    match: PropTypes.object,\n    isLoading: PropTypes.bool.isRequired,\n    fetchOffers: PropTypes.func.isRequired,\n    isError: PropTypes.bool.isRequired\n}\n\nconst mapStateToProps = ({offers: {offers, isLoading, isError}}) => {\n    return {\n        offers,\n        isLoading,\n        isError\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchOffers: bindActionCreators(fetchOffers, dispatch)\n    }\n}\n\nexport {OfferPage};\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withRouter)(OfferPage);\n","import React, {useEffect} from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport PropTypes from 'prop-types';\n\nimport MainPage from '../pages/mainPage/mainPage.jsx';\nimport LoginPage from '../pages/loginPage/loginPage.jsx';\nimport FavoritesPage from '../pages/favoritesPage/favoritesPage.jsx';\nimport OfferPage from '../pages/offerPage/offerPage.jsx';\nimport {fetchAuthStatus} from '../../actions/auth.js';\n\nconst App = ({fetchAuthStatus}) => {\n\tuseEffect(() => {\n\t\tfetchAuthStatus();\n\t});\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path=\"/\" component={MainPage} exact />\n\t\t\t<Route path=\"/login\" component={LoginPage} exact />\n\t\t\t<Route path=\"/favorites\" component={FavoritesPage} exact />\n\t\t\t<Route path=\"/offer/:id\" component={OfferPage} exact />\n\t\t\t<Redirect to=\"/\" />\n\t\t</Switch>\n\t);\n}\n\nApp.propTypes = {\n\tfetchAuthStatus: PropTypes.func.isRequired\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n\t\tfetchAuthStatus: bindActionCreators(fetchAuthStatus, dispatch)\n    }\n}\n\nexport {App};\nexport default connect(null, mapDispatchToProps)(App);\n","import React from 'react';\nimport ErrorIndicator from '../errorIndicator/errorIndicator.jsx';\n\nclass ErrorBoundary extends React.PureComponent {\n    state = {\n        isError: false\n    }\n\n    componentDidCatch() {\n        this.setState({\n            isError: true\n        });\n    }\n\n    render() {\n        if(this.state.isError) {\n            return <ErrorIndicator operation=\"loading of this website\" />;\n        }\n\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport {Provider} from 'react-redux';\n\nimport store from './store.js';\nimport App from './components/app/app.jsx';\nimport ErrorBoundary from './components/errorBoundary/errorBoundary.jsx';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ErrorBoundary>\n\t\t\t<Router>\n\t\t\t\t<App />\n\t\t\t</Router>\n\t\t</ErrorBoundary>\n\t</Provider>,\n\tdocument.querySelector(`#root`)\n);\n"],"sourceRoot":""}