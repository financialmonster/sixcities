(this["webpackJsonpsix-cities"]=this["webpackJsonpsix-cities"]||[]).push([[0],{30:function(e,a,t){e.exports=t.p+"static/media/logo.052bc629.svg"},45:function(e,a,t){e.exports=t.p+"static/media/pin-active.6747ef6e.svg"},46:function(e,a,t){e.exports=t.p+"static/media/pin.19314a0f.svg"},47:function(e,a,t){e.exports=t.p+"static/media/logo.052bc629.svg"},48:function(e,a,t){e.exports=t.p+"static/media/pin-active.6747ef6e.svg"},49:function(e,a,t){e.exports=t.p+"static/media/pin.19314a0f.svg"},50:function(e,a){e.exports="data:image/jpeg;base64,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"},51:function(e,a){e.exports="data:image/jpeg;base64,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"},52:function(e,a,t){e.exports=t(80)},61:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(19),s=t.n(i),o=t(7),c=t(3),l=t(2),u=t(42),m=t(1),p={focusedCard:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FOCUS_CARD":return Object(m.a)({},e,{focusedCard:a.payload});case"BLUR_CARD":return Object(m.a)({},e,{focusedCard:null});default:return e}},d={isLoggedIn:!1,email:null,isAuthLoading:!1,isAuthError:!1,isAuthStatusLoading:!0,isAuthStatusError:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_AUTH_REQUEST":return Object(m.a)({},e,{email:null,isAuthLoading:!0,isAuthError:!1,isLoggedIn:!1});case"FETCH_AUTH_SUCCESS":return Object(m.a)({},e,{email:a.payload,isAuthLoading:!1,isAuthError:!1,isLoggedIn:!0});case"FETCH_AUTH_FAIL":return Object(m.a)({},e,{email:null,isAuthLoading:!1,isAuthError:!0,isLoggedIn:!1});case"AUTH_STATUS_REQUEST":return Object(m.a)({},e,{isAuthStatusLoading:!0,isAuthStatusError:!1});case"AUTH_STATUS_SUCCESS":return Object(m.a)({},e,{isLoggedIn:!0,email:a.payload,isAuthStatusLoading:!1,isAuthStatusError:!1});case"AUTH_STATUS_UNAUTHORIZED":return Object(m.a)({},e,{isLoggedIn:!1,email:null,isAuthStatusLoading:!1,isAuthStatusError:!1});case"AUTH_STATUS_FAIL":return Object(m.a)({},e,{isLoggedIn:!1,email:null,isAuthStatusLoading:!1,isAuthStatusError:!0});default:return e}},A={nearbyHotels:[],isNearbyLoading:!1,isNearbyError:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_NEARBY_REQUEST":return Object(m.a)({},e,{nearbyHotels:[],isNearbyLoading:!0,isNearbyError:!1});case"FETCH_NEARBY_SUCCESS":return Object(m.a)({},e,{nearbyHotels:a.payload.slice(0,3),isNearbyLoading:!1,isNearbyError:!1});case"FETCH_NEARBY_FAIL":return Object(m.a)({},e,{nearbyHotels:[],isNearbyLoading:!1,isNearbyError:!0});default:return e}},g={favorites:[],isFavoritesLoading:!1,isFavoritesError:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_FAVORITES_REQUEST":return Object(m.a)({},e,{isFavoritesLoading:!0,isFavoritesError:!1,favorites:[]});case"FETCH_FAVORITES_SUCCESS":return Object(m.a)({},e,{isFavoritesLoading:!1,isFavoritesError:!1,favorites:a.payload});case"FETCH_FAVORITES_FAIL":return Object(m.a)({},e,{isFavoritesLoading:!1,isFavoritesError:!0,favorites:[]});default:return e}},h={reviews:[],isReviewsLoading:!1,isReviewsError:!1,isReviewLoading:!1,isReviewError:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_REVIEWS_REQUEST":return Object(m.a)({},e,{reviews:[],isReviewsLoading:!0,isReviewsError:!1});case"FETCH_REVIEWS_SUCCESS":return Object(m.a)({},e,{reviews:a.payload,isReviewsLoading:!1,isReviewsError:!1});case"FETCH_REVIEWS_FAIL":return Object(m.a)({},e,{reviews:[],isReviewsLoading:!1,isReviewsError:!0});case"FETCH_REVIEW_REQUEST":return Object(m.a)({},e,{isReviewLoading:!0,isReviewError:!1});case"FETCH_REVIEW_SUCCESS":return Object(m.a)({},e,{isReviewLoading:!1,isReviewError:!1});case"FETCH_REVIEW_FAIL":return Object(m.a)({},e,{isReviewLoading:!1,isReviewError:!0});case"RESET_REVIEW_ERROR":return Object(m.a)({},e,{isReviewError:!1});default:return e}},y=t(18),N=function(e,a){var t=Object(y.a)(e);switch(a){case"Popular":return t.sort((function(e,a){return e.id-a.id}));case"Price: low to high":return t.sort((function(e,a){return e.price-a.price}));case"Price: high to low":return t.sort((function(e,a){return a.price-e.price}));case"Top rated first":return t.sort((function(e,a){return a.rating-e.rating}));default:return t}},C={offers:[],isLoading:!0,isError:!1,activeCity:null,currentSorting:"Popular",isFavoriteLoading:!1,isFavoriteError:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_OFFERS_REQUEST":return Object(m.a)({},e,{offers:[],isLoading:!0,isError:!1,activeCity:null});case"FETCH_OFFERS_SUCCESS":return Object(m.a)({},e,{isError:!1,isLoading:!1,activeCity:a.payload.activeCity,offers:a.payload.offers});case"FETCH_OFFERS_FAIL":return Object(m.a)({},e,{offers:[],isLoading:!1,isError:!0});case"SORT_BY":return Object(m.a)({},e,{offers:N(e.offers,a.payload),currentSorting:a.payload});case"ACTIVE_CITY_CHANGE":return Object(m.a)({},e,{activeCity:a.payload});case"FETCH_FAVORITE_REQUEST":return Object(m.a)({},e,{isFavoriteLoading:!0,isFavoriteError:!1});case"FETCH_FAVORITE_FAIL":return Object(m.a)({},e,{isFavoriteLoading:!1,isFavoriteError:!0});case"FETCH_FAVORITE_SUCCESS":var t=a.payload-1,r=e.offers[t],n=Object(m.a)({},r,{is_favorite:!r.is_favorite}),i=[].concat(Object(y.a)(e.offers.slice(0,t)),[n],Object(y.a)(e.offers.slice(t+1)));return Object(m.a)({},e,{offers:i,isFavoriteLoading:!1,isFavoriteError:!1});default:return e}},S=Object(l.c)({card:E,auth:f,nearby:v,favorites:_,reviews:b,offers:w}),F=Object(l.e)(S,Object(l.a)(u.a)),O=t(14),R=t(5),T=t.n(R),I=(t(61),function(){return n.a.createElement("div",{className:"spinner"},n.a.createElement("div",{className:"spinnerContent"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)))}),j=function(e){var a=e.offers,t=e.isError;return!!a.length&&!t},k=function(e){var a=e.offers;return Array.from(new Set(a.map((function(e){return e.city.name})))).sort().slice(0,6)},U=function(e){var a=e.offers,t=e.activeCity;return a.filter((function(e){return e.city.name===t}))},L=function(e){var a=e.offers,t=e.activeCity,r=a.find((function(e){return e.city.name===t}));if(r)return[r.city.location.latitude,r.city.location.longitude]},H=function(e,a,t){return t&&-1!==a.findIndex((function(a){return a.user.name===e.split("@")[0]}))},B=t(43),Q=t.n(B).a.create({baseURL:"https://htmlacademy-react-3.appspot.com/six-cities",timeout:5e3,withCredentials:!0}),x=function(){return function(e){e({type:"FETCH_OFFERS_REQUEST"}),Q.get("/hotels").then((function(a){var t;200===a.status&&e({type:"FETCH_OFFERS_SUCCESS",payload:{offers:t=a.data,activeCity:t[Math.floor(Math.random()*t.length)].city.name}})})).catch((function(){return e({type:"FETCH_OFFERS_FAIL"})}))}},D=function(e){return{type:"SORT_BY",payload:e}},K=function(e){return{type:"ACTIVE_CITY_CHANGE",payload:e}},V=function(e){return{type:"FOCUS_CARD",payload:e}},J=function(){return{type:"BLUR_CARD"}},M=Object(c.b)(null,(function(e){return{cardMouseEnterHandler:Object(l.b)(V,e),cardMouseLeaveHandler:Object(l.b)(J,e)}}))((function(e){var a=e.offer,t=a.price,r=a.is_premium,i=a.is_favorite,s=a.rating,c=a.title,l=a.type,u=a.preview_image,m=a.id,p=e.cardMouseEnterHandler,E=e.cardMouseLeaveHandler,d=e.isNearby,f=e.isMain,A=e.isFavPage,v=T()("place-card__bookmark-button button",{"place-card__bookmark-button--active":i}),g=T()("place-card",{"near-places__card":d,"cities__place-card":f,favorites__card:A}),_=T()("place-card__image-wrapper",{"near-places__image-wrapper":d,"cities__image-wrapper":f,"favorites__image-wrapper":A}),h=T()("place-card__info",{"favorites__card-info":A});return n.a.createElement(o.b,{to:"/offer/".concat(m),title:"To the ".concat(c," offer page"),onClick:E},n.a.createElement("article",{className:g,onMouseEnter:function(){return p(m)},onMouseLeave:E},r?n.a.createElement("div",{className:"place-card__mark"},n.a.createElement("span",null,"Premium")):null,n.a.createElement("div",{className:_},n.a.createElement("img",{className:"place-card__image",src:u,width:A?"150":"260",height:A?"110":"200",alt:"Place pic"})),n.a.createElement("div",{className:h},n.a.createElement("div",{className:"place-card__price-wrapper"},n.a.createElement("div",{className:"place-card__price"},n.a.createElement("b",{className:"place-card__price-value"},"\u20ac",t),n.a.createElement("span",{className:"place-card__price-text"},"/\xa0night")),n.a.createElement("button",{className:v,type:"button",title:i?"In bookmarks":"To bookmarks"},n.a.createElement("svg",{className:"place-card__bookmark-icon",width:"18",height:"19"},n.a.createElement("use",{xlinkHref:"#icon-bookmark"})),n.a.createElement("span",{className:"visually-hidden"},i?"In bookmarks":"Not in bookmarks"))),n.a.createElement("div",{className:"place-card__rating rating"},n.a.createElement("div",{className:"place-card__stars rating__stars"},n.a.createElement("span",{style:{width:"".concat(20*s,"%")}}),n.a.createElement("span",{className:"visually-hidden"},"Rating"))),n.a.createElement("h2",{className:"place-card__name"},c),n.a.createElement("p",{className:"place-card__type"},l))))})),P=function(e){var a=e.offers;return n.a.createElement("div",{className:"cities__places-list places__list tabs__content"},a.map((function(e){return n.a.createElement(M,{key:e.id,offer:e,isNearby:!1,isMain:!0,isFavPage:!1})})))},W=function(e){var a=e.city;return n.a.createElement("div",{className:"cities__status-wrapper tabs__content"},n.a.createElement("b",{className:"cities__status"},"No places to stay available"),n.a.createElement("p",{className:"cities__status-description"},"We could not find any property available at the moment in ",a))},Y=function(e){var a=e.operation;return n.a.createElement("div",{className:"cities__status-wrapper tabs__content"},n.a.createElement("b",{className:"cities__status"},"We're sorry"),n.a.createElement("p",{className:"cities__status-description"},"It's been an error during the process of ",a,". Please, reload the page and try again"))},G=Object(c.b)((function(e){var a=e.offers;return{offers:U(a),isLoading:a.isLoading,hasOffers:j(a),activeCity:a.activeCity,isError:a.isError}}),(function(e){return{fetchOffers:Object(l.b)(x,e)}}))((function(e){var a=e.fetchOffers,t=e.offers,i=e.isLoading,s=e.activeCity,o=e.isError;return Object(r.useEffect)((function(){a()}),[a]),i?n.a.createElement(I,null):o?n.a.createElement(Y,{operation:"loading of the list of offers"}):t.length?n.a.createElement(P,{offers:t}):n.a.createElement(W,{city:s})})),q=t(30),Z=t.n(q),X=Object(c.b)((function(e){var a=e.auth;return{isLoggedIn:a.isLoggedIn,email:a.email,isAuthStatusError:a.isAuthStatusError,isAuthStatusLoading:a.isAuthStatusLoading}}),null)((function(e){var a,t,r=e.isLoggedIn,i=e.email,s=e.isMain,c=e.isAuthStatusLoading,l=e.isAuthStatusError,u=r?"header__user-name user__name":"header__login";return a=s?n.a.createElement("a",{className:"header__logo-link header__logo-link--active"},n.a.createElement("img",{className:"header__logo",src:Z.a,alt:"6 cities logo",width:"81",height:"41"})):n.a.createElement(o.b,{to:"/",className:"header__logo-link",title:"To the main page"},n.a.createElement("img",{className:"header__logo",src:Z.a,alt:"6 cities logo",width:"81",height:"41"})),t=c?n.a.createElement("div",null,"Authorization..."):l?n.a.createElement("div",null,"Authorization failed. Please, reload the page and try again"):n.a.createElement(o.b,{to:r?"/favorites":"/login",title:r?"To the favorites page":"To the login page",className:"header__nav-link header__nav-link--profile"},n.a.createElement("div",{className:"header__avatar-wrapper user__avatar-wrapper"}),n.a.createElement("span",{className:u},r?i:"Sign in")),n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header__wrapper"},n.a.createElement("div",{className:"header__left"},a),n.a.createElement("nav",{className:"header__nav"},n.a.createElement("ul",{className:"header__nav-list"},n.a.createElement("li",{className:"header__nav-item user"},t))))))})),z=Object(c.b)((function(e){var a=e.offers;return{activeCity:a.activeCity,citiesNames:k(a)}}),(function(e){return{navItemClickHandler:Object(l.b)(K,e)}}))((function(e){var a=e.activeCity,t=e.navItemClickHandler,r=e.citiesNames;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"visually-hidden"},"Cities"),n.a.createElement("div",{className:"tabs"},n.a.createElement("section",{className:"locations container"},n.a.createElement("ul",{className:"locations__list tabs__list"},r.map((function(e){var r=T()("locations__item-link tabs__item",{"tabs__item--active":e===a});return n.a.createElement("li",{key:e,className:"locations__item"},n.a.createElement("a",{className:r,href:"#",id:e,title:e===a?"":"To the offers of ".concat(e),onClick:function(){return t(e)}},n.a.createElement("span",null,e)))}))))))})),$=t(13),ee=Object(c.b)((function(e){var a=e.offers;return{currentSorting:a.currentSorting,activeCity:a.activeCity,offers:U(a)}}),(function(e){return{sortBy:Object(l.b)(D,e)}}))((function(e){var a=e.currentSorting,t=e.activeCity,i=e.offers,s=e.sortBy,o=Object(r.useState)(!1),c=Object($.a)(o,2),l=c[0],u=c[1],m=n.a.createElement("ul",{className:"places__options places__options--custom places__options--opened"},["Popular","Price: low to high","Price: high to low","Top rated first"].map((function(e){var t=T()("places__option",{"places__option--active":e===a});return n.a.createElement("li",{key:e,className:t,tabIndex:"0",onClick:function(){return a=e,u(!1),void s(a);var a}},e)})));return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"visually-hidden"},"Places"),n.a.createElement("b",{className:"places__found"},i.length," places to stay in ",t),n.a.createElement("form",{className:"places__sorting",action:"#",method:"get"},n.a.createElement("span",{className:"places__sorting-caption"},"Sort by "),n.a.createElement("span",{className:"places__sorting-type",tabIndex:"0",onClick:function(){return u((function(e){return!e}))},title:l?"Close the menu":"Open the menu"},"Popular",n.a.createElement("svg",{className:"places__sorting-arrow",width:"7",height:"4"},n.a.createElement("use",{xlinkHref:"#icon-arrow-select"}))),l?m:null))})),ae=t(22),te=t(23),re=t(24),ne=t(25),ie=t(6),se=t.n(ie),oe=function(e){return e.map((function(e){return[e.location.latitude,e.location.longitude]}))},ce=t(45),le=t.n(ce),ue=t(46),me=t.n(ue),pe=function(e){Object(ne.a)(t,e);var a=Object(re.a)(t);function t(){var e;Object(ae.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).lastFocusedHotel=null,e}return Object(te.a)(t,[{key:"componentDidUpdate",value:function(e){var a=this,t=this.props,r=t.activeCityCoords,n=t.activeCity,i=t.hotels,s=t.focusedCard,o=t.isLoading,c=t.history;if((e.activeCity!==n||e.focusedCard!==s)&&!o){this.map&&this.map.remove();var l=se.a.icon({iconUrl:me.a,iconSize:[30,30]}),u=se.a.icon({iconUrl:le.a,iconSize:[30,30]}),m=se.a.map("map",{center:r,zoom:13,zoomControl:!1,marker:!0});this.lastFocusedHotel?m.setView([this.lastFocusedHotel.location.latitude,this.lastFocusedHotel.location.longitude],13):m.setView(r,13),se.a.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>\n                contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(m);var p=oe(i);s&&(this.lastFocusedHotel=i.find((function(e){return e.id===s}))),p.forEach((function(e,t){a.lastFocusedHotel&&e[0]===a.lastFocusedHotel.location.latitude&&e[1]===a.lastFocusedHotel.location.longitude?(m.setView(e,13),se.a.marker(e,{icon:u,title:a.lastFocusedHotel.title,zIndexOffset:1}).addTo(m).addEventListener("click",(function(){return c.push("/offer/".concat(a.lastFocusedHotel.id))}))):se.a.marker(e,{icon:l,title:i[t].title}).addTo(m).addEventListener("click",(function(){return c.push("/offer/".concat(i[t].id))}))})),this.map=m}}},{key:"render",value:function(){return this.props.isLoading?n.a.createElement(I,null):n.a.createElement("div",{className:"cities__right-section"},n.a.createElement("section",{className:"cities__map map"},n.a.createElement("div",{id:"map",style:{width:"100%",height:"100%"}})))}}]),t}(n.a.PureComponent),Ee=Object(l.d)(Object(c.b)((function(e){var a=e.offers,t=e.card;return{activeCityCoords:L(a),isLoading:a.isLoading,activeCity:a.activeCity,hotels:U(a),focusedCard:t.focusedCard}}),null),O.g)(pe),de=Object(c.b)((function(e){var a=e.offers;return{hasOffers:j(a),isLoading:a.isLoading}}),null)((function(e){var a=e.hasOffers,t=e.isLoading,r=T()("cities__places-container container",{"cities__places-container--empty":!t&&!a}),i=t||a?"cities__places places":"cities__no-places";return n.a.createElement("div",{className:"page page--gray page--main"},n.a.createElement(X,{isMain:!0}),n.a.createElement("main",{className:"page__main page__main--index"},n.a.createElement(z,null),n.a.createElement("div",{className:"cities"},n.a.createElement("div",{className:r},n.a.createElement("section",{className:i},a?n.a.createElement(ee,null):null,n.a.createElement(G,null)),n.a.createElement(Ee,null)))))})),fe=function(){return function(e){e({type:"AUTH_STATUS_REQUEST"}),Q.get("/login").then((function(a){200===a.status&&e({type:"AUTH_STATUS_SUCCESS",payload:a.data.email})})).catch((function(a){401===a.response.status?e({type:"AUTH_STATUS_UNAUTHORIZED"}):e({type:"AUTH_STATUS_FAIL"})}))}},Ae=function(e){return function(a){a({type:"FETCH_AUTH_REQUEST"}),function(e){return Q.post("/login",e)}(e).then((function(e){200===e.status&&a({type:"FETCH_AUTH_SUCCESS",payload:e.data.email})})).catch((function(){return a({type:"FETCH_AUTH_FAIL"})}))}},ve=function(e){var a=e.onSubmit,t=Object(r.useState)(""),i=Object($.a)(t,2),s=i[0],o=i[1],c=Object(r.useState)(""),l=Object($.a)(c,2),u=l[0],m=l[1];return n.a.createElement("main",{className:"page__main page__main--login"},n.a.createElement("div",{className:"page__login-container container"},n.a.createElement("section",{className:"login"},n.a.createElement("h1",{className:"login__title"},"Sign in"),n.a.createElement("form",{className:"login__form form",action:"#",method:"post",onSubmit:function(e){return a(e,s,u)}},n.a.createElement("div",{className:"login__input-wrapper form__input-wrapper"},n.a.createElement("label",{className:"visually-hidden"},"E-mail"),n.a.createElement("input",{className:"login__input form__input",type:"email",name:"email",placeholder:"Email",value:s,onChange:function(e){return o(e.target.value)},required:!0})),n.a.createElement("div",{className:"login__input-wrapper form__input-wrapper"},n.a.createElement("label",{className:"visually-hidden"},"Password"),n.a.createElement("input",{className:"login__input form__input",type:"password",name:"password",placeholder:"Password",value:u,onChange:function(e){return m(e.target.value)},required:!0})),n.a.createElement("button",{className:"login__submit form__submit button",type:"submit"},"Sign in"))),n.a.createElement("section",{className:"locations locations--login locations--current"},n.a.createElement("div",{className:"locations__item"},n.a.createElement("a",{className:"locations__item-link",href:"#"},n.a.createElement("span",null,"Amsterdam"))))))},ge=Object(c.b)((function(e){var a=e.auth;return{isLoggedIn:a.isLoggedIn,isAuthLoading:a.isAuthLoading,isAuthError:a.isAuthError}}),(function(e){return{fetchAuth:function(a){var t=a.email,r=a.password;return e(Ae({email:t,password:r}))}}}))((function(e){var a=e.isLoggedIn,t=e.isAuthLoading,r=e.fetchAuth,i=e.isAuthError;return a?n.a.createElement(O.a,{to:"/"}):t?n.a.createElement(I,null):i?n.a.createElement(Y,{operation:"user's authorization"}):n.a.createElement("div",{className:"page page--gray page--login"},n.a.createElement(X,{isMain:!1}),n.a.createElement(ve,{onSubmit:function(e,a,t){e.preventDefault(),r({email:a,password:t})}}))})),_e=function(){return function(e){e({type:"FETCH_FAVORITES_REQUEST"}),Q.get("/favorite").then((function(a){200===a.status&&e({type:"FETCH_FAVORITES_SUCCESS",payload:a.data})})).catch((function(){return e({type:"FETCH_FAVORITES_FAIL"})}))}},he=function(e,a){return function(t){t({type:"FETCH_FAVORITE_REQUEST"}),function(e,a){return Q.post("/favorite/".concat(e,"/").concat(a?0:1))}(e,a).then((function(e){200===e.status&&t(function(e){return{type:"FETCH_FAVORITE_SUCCESS",payload:e}}(e.data.id))})).catch((function(){return t(function(e){return{type:"FETCH_FAVORITE_FAIL",payload:e}}())}))}},be=function(e){var a=e.favorites,t=Array.from(new Set(a.map((function(e){return e.city.name})))).sort();return n.a.createElement("main",{className:"page__main page__main--favorites"},n.a.createElement("div",{className:"page__favorites-container container"},n.a.createElement("section",{className:"favorites"},n.a.createElement("h1",{className:"favorites__title"},"Saved listing"),n.a.createElement("ul",{className:"favorites__list"},t.map((function(e){var t=a.filter((function(a){return a.city.name===e})).map((function(e){return n.a.createElement(M,{key:e.id,offer:e,isNearby:!1,isMain:!1,isFavPage:!0})}));return n.a.createElement("li",{key:e,className:"favorites__locations-items"},n.a.createElement("div",{className:"favorites__locations locations locations--current"},n.a.createElement("div",{className:"locations__item"},n.a.createElement("a",{className:"locations__item-link",href:"#"},n.a.createElement("span",null,e)))),n.a.createElement("div",{className:"favorites__places"},t))}))))))},ye=function(){return n.a.createElement("main",{className:"page__main page__main--favorites page__main--favorites-empty"},n.a.createElement("div",{className:"page__favorites-container container"},n.a.createElement("section",{className:"favorites favorites--empty"},n.a.createElement("h1",{className:"visually-hidden"},"Favorites (empty)"),n.a.createElement("div",{className:"favorites__status-wrapper"},n.a.createElement("b",{className:"favorites__status"},"Nothing yet saved."),n.a.createElement("p",{className:"favorites__status-description"},"Save properties to narrow down search or plan yor future trips.")))))},Ne=t(47),Ce=t.n(Ne),we=Object(c.b)((function(e){var a=e.favorites;return{favorites:a.favorites,isFavoritesLoading:a.isFavoritesLoading,isFavoritesError:a.isFavoritesError,isLoggedIn:e.auth.isLoggedIn}}),(function(e){return{fetchFavorites:Object(l.b)(_e,e)}}))((function(e){var a=e.favorites,t=e.isFavoritesLoading,i=e.isFavoritesError,s=e.isLoggedIn,c=e.fetchFavorites;if(Object(r.useEffect)((function(){c()}),[c]),!s)return n.a.createElement(O.a,{to:"/login"});if(t)return n.a.createElement(I,null);if(i)return n.a.createElement(Y,{operation:"loading of the list of favorite offers"});var l=T()("page",{"page--favorites-empty":!a.length});return n.a.createElement("div",{className:l},n.a.createElement(X,{isMain:!1}),a.length?n.a.createElement(be,{favorites:a}):n.a.createElement(ye,null),n.a.createElement("footer",{className:"footer"},n.a.createElement(o.b,{to:"/",className:"footer__logo-link",title:"To the main page"},n.a.createElement("img",{className:"footer__logo",src:Ce.a,alt:"6 cities logo",width:"64",height:"33"}))))})),Se=function(e){return function(a){a({type:"FETCH_REVIEWS_REQUEST"}),function(e){return Q.get("/comments/".concat(e))}(e).then((function(e){200===e.status&&a({type:"FETCH_REVIEWS_SUCCESS",payload:e.data})})).catch((function(){return a({type:"FETCH_REVIEWS_FAIL"})}))}},Fe=function(){return{type:"RESET_REVIEW_ERROR"}},Oe=function(e,a){return function(t){t({type:"FETCH_REVIEW_REQUEST"}),function(e,a){return Q.post("/comments/".concat(a),e)}(e,a).then((function(e){200===e.status&&(t({type:"FETCH_REVIEW_SUCCESS"}),t(Se(a)))})).catch((function(){return t({type:"FETCH_REVIEW_FAIL"})}))}},Re=function(e){var a=e.onSubmit,t=Object(r.useState)(""),i=Object($.a)(t,2),s=i[0],o=i[1],c=Object(r.useState)(""),l=Object($.a)(c,2),u=l[0],m=l[1],p=!(s.length>=50&&s.length<=300)||!u;return n.a.createElement("form",{className:"reviews__form form",action:"#",method:"post",onSubmit:function(e){return a(e,u,s)}},n.a.createElement("label",{className:"reviews__label form__label",htmlFor:"review"},"Your review"),n.a.createElement("div",{className:"reviews__rating-form form__rating"},["perfect","good","not bad","badly","terribly"].map((function(e,a){return n.a.createElement(n.a.Fragment,{key:e},n.a.createElement("input",{className:"form__rating-input visually-hidden",name:"rating",value:5-a,id:"".concat(5-a,"-stars"),type:"radio",onChange:function(e){return m(e.target.value)}}),n.a.createElement("label",{htmlFor:"".concat(5-a,"-stars"),className:"reviews__rating-label form__rating-label",title:e},n.a.createElement("svg",{className:"form__star-image",width:"37",height:"33"},n.a.createElement("use",{xlinkHref:"#icon-star"}))))}))),n.a.createElement("textarea",{className:"reviews__textarea form__textarea",id:"review",name:"review",onChange:function(e){return o(e.target.value)},value:s,placeholder:"Tell how was your stay, what you like and what can be improved"}),n.a.createElement("div",{className:"reviews__button-wrapper"},n.a.createElement("p",{className:"reviews__help"},"To submit review please make sure to set ",n.a.createElement("span",{className:"reviews__star"},"rating")," and describe your stay with at least ",n.a.createElement("b",{className:"reviews__text-amount"},"50 characters"),"."),n.a.createElement("button",{className:"reviews__submit form__submit button",type:"submit",title:"Submit review",disabled:p},"Submit")))},Te=Object(c.b)((function(e){var a=e.auth,t=a.isLoggedIn,r=a.email,n=e.reviews,i=n.isReviewLoading,s=n.isReviewError,o=n.reviews;return{isLoggedIn:t,isReviewLoading:i,isReviewError:s,hasUserReview:H(r,o,t)}}),(function(e){return{fetchReview:Object(l.b)(Oe,e),resetReviewError:Object(l.b)(Fe,e)}}))((function(e){var a=e.isLoggedIn,t=e.fetchReview,i=e.id,s=e.isReviewLoading,o=e.isReviewError,c=e.hasUserReview,l=e.resetReviewError;if(Object(r.useEffect)((function(){l()}),[i,l]),!a||c)return null;if(s)return n.a.createElement(I,null);if(o)return n.a.createElement(Y,{operation:"uploading of your review"});return n.a.createElement(Re,{onSubmit:function(e,a,r){e.preventDefault(),t({rating:a,comment:r},i)}})})),Ie=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]},je=function(e){return e.reviews.slice(0,10).sort((function(e,a){return Date.parse(a.date)-Date.parse(e.date)})).map((function(e){var a=e.id,t=e.user,r=e.rating,i=e.comment,s=e.date,o=new Date(Date.parse(s)),c=o.getMonth(),l=o.getFullYear();return n.a.createElement("li",{key:a,className:"reviews__item"},n.a.createElement("div",{className:"reviews__user user"},n.a.createElement("div",{className:"reviews__avatar-wrapper user__avatar-wrapper"},n.a.createElement("img",{className:"reviews__avatar user__avatar",src:t.avatar_url,width:"54",height:"54",alt:"Reviews avatar"})),n.a.createElement("span",{className:"reviews__user-name"},t.name)),n.a.createElement("div",{className:"reviews__info"},n.a.createElement("div",{className:"reviews__rating rating"},n.a.createElement("div",{className:"reviews__stars rating__stars"},n.a.createElement("span",{style:{width:"".concat(20*r,"%")}}),n.a.createElement("span",{className:"visually-hidden"},"Rating"))),n.a.createElement("p",{className:"reviews__text"},i),n.a.createElement("time",{className:"reviews__time",dateTime:"".concat(l,"-").concat(c+1,"-").concat(o.getDate())},"".concat(Ie(c)," ").concat(l))))}))},ke=Object(c.b)((function(e){var a=e.reviews;return{isReviewsError:a.isReviewsError,isReviewsLoading:a.isReviewsLoading,reviews:a.reviews}}),(function(e){return{fetchReviews:Object(l.b)(Se,e)}}))((function(e){var a=e.reviews,t=e.isReviewsLoading,i=e.isReviewsError,s=e.id,o=e.fetchReviews;return Object(r.useEffect)((function(){o(s)}),[o,s]),t?n.a.createElement(I,null):i?n.a.createElement(Y,{operation:"loading of the list of reviews"}):n.a.createElement("section",{className:"property__reviews reviews"},n.a.createElement("h2",{className:"reviews__title"},"Reviews \xb7 ",n.a.createElement("span",{className:"reviews__amount"},a.length)),n.a.createElement("ul",{className:"reviews__list"},n.a.createElement(je,{reviews:a}),n.a.createElement(Te,{id:s})))})),Ue=t(48),Le=t.n(Ue),He=t(49),Be=t.n(He),Qe=Object(l.d)(Object(c.b)((function(e){return{nearbyHotels:e.nearby.nearbyHotels,focusedCard:e.card.focusedCard}}),null),O.g)((function(e){var a=e.offer,t=e.nearbyHotels,i=e.focusedCard,s=e.history;return Object(r.useEffect)((function(){var e=[a.location.latitude,a.location.longitude],r=se.a.icon({iconUrl:Le.a,iconSize:[30,30]}),n=se.a.icon({iconUrl:Be.a,iconSize:[30,30]}),o=se.a.map("reviewsMap",{center:e,zoom:13,zoomControl:!1,marker:!0});se.a.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>\n                contributors &copy; <a href="https://carto.com/attributions">CARTO</a>'}).addTo(o);var c=null;return i?(c=t.find((function(e){return e.id===i})),se.a.marker(e,{icon:n}).addTo(o)):(o.setView(e,13),se.a.marker(e,{icon:r,title:a.title,zIndexOffset:1}).addTo(o)),oe(t).forEach((function(e,a){c&&e[0]===c.location.latitude&&e[1]===c.location.longitude?(o.setView(e,13),se.a.marker(e,{icon:r,zIndexOffset:1}).addTo(o)):se.a.marker(e,{icon:n,title:t[a].title}).addTo(o).addEventListener("click",(function(){return s.push("/offer/".concat(t[a].id))}))})),function(){return o.remove()}}),[a,t,i,s]),n.a.createElement("section",{className:"property__map map"},n.a.createElement("div",{id:"reviewsMap",style:{width:"100%",height:"100%"}}))})),xe=t(50),De=t.n(xe),Ke=t(51),Ve=t.n(Ke),Je=Object(c.b)((function(e){var a=e.auth.isLoggedIn,t=e.offers;return{isLoggedIn:a,isFavoriteError:t.isFavoriteError,isFavoriteLoading:t.isFavoriteLoading}}),(function(e){return{fetchFavorite:Object(l.b)(he,e)}}))((function(e){var a,t=e.offer,r=e.fetchFavorite,i=e.isLoggedIn,s=e.history,o=e.isFavoriteError,c=e.isFavoriteLoading,l=t.images,u=t.is_premium,m=t.title,p=t.is_favorite,E=t.rating,d=t.max_adults,f=t.type,A=t.bedrooms,v=t.price,g=t.goods,_=t.id,h=t.host,b=t.description,y=T()("property__avatar-wrapper user__avatar-wrapper",{"property__avatar-wrapper--pro":h.is_pro}),N=T()("property__bookmark-button button",{"property__bookmark-button--active":p}),C={"img/avatar-angelina.jpg":Ve.a,"img/avatar-max.jpg":De.a};return a=c?n.a.createElement("div",null,"..."):o?n.a.createElement("div",null,"Fail"):n.a.createElement(n.a.Fragment,null,n.a.createElement("svg",{className:"property__bookmark-icon",width:"31",height:"33"},n.a.createElement("use",{xlinkHref:p?"#icon-bookmark-active":"#icon-bookmark"})),n.a.createElement("span",{className:"visually-hidden"},p?"In bookmarks":"To bookmarks")),n.a.createElement("section",{className:"property"},n.a.createElement("div",{className:"property__gallery-container container"},n.a.createElement("div",{className:"property__gallery"},l.slice(0,6).map((function(e){return n.a.createElement("div",{key:e,className:"property__image-wrapper"},n.a.createElement("img",{className:"property__image",src:e,alt:"Studio"}))})))),n.a.createElement("div",{className:"property__container container"},n.a.createElement("div",{className:"property__wrapper"},u?n.a.createElement("div",{className:"property__mark"},n.a.createElement("span",null,"Premium")):null,n.a.createElement("div",{className:"property__name-wrapper"},n.a.createElement("h1",{className:"property__name"},m),n.a.createElement("button",{className:N,type:"button",onClick:function(){i?r(_,p):s.push("/login")},title:p?"Remove from bookmarks":"Add to bookmarks"},a)),n.a.createElement("div",{className:"property__rating rating"},n.a.createElement("div",{className:"property__stars rating__stars"},n.a.createElement("span",{style:{width:"".concat(20*E,"%")}}),n.a.createElement("span",{className:"visually-hidden"},"Rating")),n.a.createElement("span",{className:"property__rating-value rating__value"},E)),n.a.createElement("ul",{className:"property__features"},n.a.createElement("li",{className:"property__feature property__feature--entire"},f),n.a.createElement("li",{className:"property__feature property__feature--bedrooms"},A," Bedrooms"),n.a.createElement("li",{className:"property__feature property__feature--adults"},"Max ",d," adults")),n.a.createElement("div",{className:"property__price"},n.a.createElement("b",{className:"property__price-value"},"\u20ac",v),n.a.createElement("span",{className:"property__price-text"},"\xa0night")),n.a.createElement("div",{className:"property__inside"},n.a.createElement("h2",{className:"property__inside-title"},"What's inside"),n.a.createElement("ul",{className:"property__inside-list"},g.map((function(e){return n.a.createElement("li",{key:e,className:"property__inside-item"},e)})))),n.a.createElement("div",{className:"property__host"},n.a.createElement("h2",{className:"property__host-title"},"Meet the host"),n.a.createElement("div",{className:"property__host-user user"},n.a.createElement("div",{className:y},n.a.createElement("img",{className:"property__avatar user__avatar",src:C[h.avatar_url],width:"74",height:"74",alt:"Host avatar"})),n.a.createElement("span",{className:"property__user-name"},h.name)),n.a.createElement("div",{className:"property__description"},n.a.createElement("p",{className:"property__text"},b))),n.a.createElement(ke,{id:_}))),n.a.createElement(Qe,{offer:t}))})),Me=function(e){return function(a){a({type:"FETCH_NEARBY_REQUEST"}),function(e){return Q.get("/hotels/".concat(e,"/nearby"))}(e).then((function(e){200===e.status&&a({type:"FETCH_NEARBY_SUCCESS",payload:e.data})})).catch((function(){return a({type:"FETCH_NEARBY_FAIL"})}))}},Pe=function(e){var a=e.hotels;return n.a.createElement("div",{className:"container"},n.a.createElement("section",{className:"near-places places"},n.a.createElement("h2",{className:"near-places__title"},"Other places in the neighbourhood"),n.a.createElement("div",{className:"near-places__list places__list"},a.map((function(e){return n.a.createElement(M,{key:e.id,offer:e,isNearby:!0,isMain:!1,isFavPage:!1})})))))},We=Object(c.b)((function(e){var a=e.nearby;return{nearbyHotels:a.nearbyHotels,isNearbyError:a.isNearbyError,isNearbyLoading:a.isNearbyLoading}}),(function(e){return{fetchNearbyHotels:Object(l.b)(Me,e)}}))((function(e){var a=e.nearbyHotels,t=e.isNearbyError,i=e.isNearbyLoading,s=e.id,o=e.fetchNearbyHotels;return Object(r.useEffect)((function(){o(s)}),[o,s]),i?n.a.createElement(I,null):t?n.a.createElement(Y,{operation:"loading the list of nearby offers"}):n.a.createElement(Pe,{hotels:a})})),Ye=Object(l.d)(Object(c.b)((function(e){var a=e.offers;return{offers:a.offers,isLoading:a.isLoading,isError:a.isError}}),(function(e){return{fetchOffers:Object(l.b)(x,e)}})),O.g)((function(e){var a=e.match,t=e.offers,i=e.isLoading,s=e.history,o=e.fetchOffers,c=e.isError;if(Object(r.useEffect)((function(){o()}),[o]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[a.params.id]),i)return n.a.createElement("div",{className:"page"},n.a.createElement(X,{isMain:!1}),n.a.createElement(I,null));if(c)return n.a.createElement("div",{className:"page"},n.a.createElement(X,{isMain:!1}),n.a.createElement(Y,{operation:"loading of this offer"}));var l=t.find((function(e){return e.id===+a.params.id}));return l?n.a.createElement("div",{className:"page"},n.a.createElement(X,{isMain:!1}),n.a.createElement(Je,{offer:l,history:s}),n.a.createElement(We,{id:l.id})):n.a.createElement(O.a,{to:"/"})})),Ge=Object(c.b)(null,(function(e){return{fetchAuthStatus:Object(l.b)(fe,e)}}))((function(e){var a=e.fetchAuthStatus;return Object(r.useEffect)((function(){a()})),n.a.createElement(O.d,null,n.a.createElement(O.b,{path:"/",component:de,exact:!0}),n.a.createElement(O.b,{path:"/login",component:ge,exact:!0}),n.a.createElement(O.b,{path:"/favorites",component:we,exact:!0}),n.a.createElement(O.b,{path:"/offer/:id",component:Ye,exact:!0}),n.a.createElement(O.a,{to:"/"}))})),qe=function(e){Object(ne.a)(t,e);var a=Object(re.a)(t);function t(){var e;Object(ae.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={isError:!1},e}return Object(te.a)(t,[{key:"componentDidCatch",value:function(){this.setState({isError:!0})}},{key:"render",value:function(){return this.state.isError?n.a.createElement(Y,{operation:"loading of this website"}):this.props.children}}]),t}(n.a.PureComponent);s.a.render(n.a.createElement(c.a,{store:F},n.a.createElement(qe,null,n.a.createElement(o.a,null,n.a.createElement(Ge,null)))),document.querySelector("#root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.c03b0e91.chunk.js.map